!function(n){"use strict";function i(){}function t(){console.warn("Unsupported method for this viewer type.")}n.PortableEngine=n.PortableEngine||{};n.PortableEngine.WebViewer=n.PortableEngine.WebViewer||{};n.PortableEngine.WebViewer.ToolMode={AnnotationCreateArrow:"AnnotationCreateArrow",AnnotationCreateCallout:"AnnotationCreateCallout",AnnotationCreateEllipse:"AnnotationCreateEllipse",AnnotationCreateFreeHand:"AnnotationCreateFreeHand",AnnotationCreateFreeText:"AnnotationCreateFreeText",AnnotationCreateLine:"AnnotationCreateLine",AnnotationCreatePolygon:"AnnotationCreatePolygon",AnnotationCreatePolygonCloud:"AnnotationCreatePolygonCloud",AnnotationCreatePolyline:"AnnotationCreatePolyline",AnnotationCreateRectangle:"AnnotationCreateRectangle",AnnotationCreateRedaction:"AnnotationCreateRedaction",AnnotationCreateSignature:"AnnotationCreateSignature",AnnotationCreateStamp:"AnnotationCreateStamp",AnnotationCreateSticky:"AnnotationCreateSticky",AnnotationCreateTextHighlight:"AnnotationCreateTextHighlight",AnnotationCreateTextSquiggly:"AnnotationCreateTextSquiggly",AnnotationCreateTextStrikeout:"AnnotationCreateTextStrikeout",AnnotationCreateTextUnderline:"AnnotationCreateTextUnderline",AnnotationEdit:"AnnotationEdit",Pan:"Pan",TextSelect:"TextSelect"};i.prototype={fitHeight:function(){t()},fitPage:function(){t()},fitWidth:function(){t()},fitZoom:function(){t()},getCurrentPageNumber:function(){t()},setCurrentPageNumber:function(){t()},getLayoutMode:function(){t()},setLayoutMode:function(){t()},getPageCount:function(){t()},getShowSideWindow:function(){t()},setShowSideWindow:function(){t()},getToolMode:function(){t()},setToolMode:function(){t()},getFitMode:function(){t()},setFitMode:function(){t()},getZoomLevel:function(){t()},setZoomLevel:function(){t()},goToFirstPage:function(){t()},goToLastPage:function(){t()},goToNextPage:function(){t()},goToPrevPage:function(){t()},loadDocument:function(){t()},rotateClockwise:function(){t()},rotateCounterClockwise:function(){t()},searchText:function(){t()}};n.WebViewerInterface=i}(window),function(n){"use strict";function t(n){return void 0===n}var u,i,r;n.ControlUtils={};n.console=n.console||{log:function(){},warn:function(){},error:function(){},assert:function(){}};n.ControlUtils.getQueryStringMap=function(n){var u;t(n)&&(n=!0);for(var i={},f=(n?function(){var n=window.location.href,t=n.indexOf("#");return 0<=t?n.substring(t+1):""}():window.location.search.substring(1)).split("&"),r=0;r<f.length;r++)u=f[r].split("="),i[u[0]]=u[1];return{getBoolean:function(n,r){var u=i[n];return t(u)?t(r)?null:r:"true"===(u=u.toLowerCase())||"yes"===u||"1"===u||"false"!==u&&"no"!==u&&"0"!==u&&!!n},getString:function(n,r){var u=i[n];return t(u)?t(r)?null:r:decodeURIComponent(u)}}};n.ControlUtils.initialize=function(n){function e(){var e=t.getBoolean("toolbar"),l=t.getBoolean("useSharedWorker",!1),n,s,h,c,f;null!==e&&(ReaderControl.config.ui.hideControlBar=!e);window.readerControl=new ReaderControl({enableAnnot:t.getBoolean("a",!1),enableOffline:t.getBoolean("offline",!1),docId:t.getString("did"),serverUrl:t.getString("server_url"),serverUrlHeaders:JSON.parse(t.getString("serverUrlHeaders","{}")),user:t.getString("user"),isAdmin:t.getBoolean("admin",!1),readOnly:t.getBoolean("readonly",!1),hideToolbar:ReaderControl.config.ui.hideControlBar,showFilePicker:t.getBoolean("filepicker",!1),pdfType:i,officeType:r,pdfServer:t.getString("pdfServer",null),preloadWorker:t.getBoolean("preloadWorker",!0),disableWebsockets:t.getBoolean("disableWebsockets",!1),portablejs:t.getBoolean("portablejs",!1),useDownloader:t.getBoolean("useDownloader",!0),hideAnnotationPanel:t.getBoolean("hideAnnotationPanel",!1),pageHistory:t.getBoolean("pageHistory",!0),enableRedaction:t.getBoolean("enableRedaction",!1),forceClientSideInit:t.getBoolean("forceClientSideInit",!1)});n=t.getString("d");"undefined"!=typeof Android&&void 0!==Android.getXpzContentUri&&(n=Android.getXpzContentUri());s=t.getBoolean("subzero",!1);CoreControls.enableSubzero(s);var u=t.getBoolean("streaming",!1),a="range"===t.getString("streaming",""),v=t.getString("pdfServer",null)||null;if(u=a?"range":u,h=t.getBoolean("auto_load",!0),window.readerControl.fireEvent("viewerLoaded"),c=t.getString("p"),null!==n&&!1!==h||c||o){try{l&&window.parent.WebViewer&&(f=window.parent.WebViewer.workerTransportPromise(),f.pdf||f.office?CoreControls.setWorkerTransportPromise(f):CoreControls.setWorkerTransportPromise({pdf:f}))}catch(e){console.warn(e);"SecurityError"===e.name&&console.warn("workerTransportPromise option cannot be used with CORS")}o?($.ajaxSetup({cache:!0}),window.readerControl.loadDocument(n,{streaming:!1})):!0===u?window.readerControl.loadDocument(n,{streaming:u}):window.readerControl.loadDocument(n,{streaming:u,pdfServer:v})}}function l(){if(null!==u&&0<u.length){var n=document.createElement("script");n.type="text/javascript";n.onload=function(){e()};n.onerror=function(){console.warn("Config script could not be loaded. The default configuration will be used.");e()};n.src=u;document.getElementsByTagName("head")[0].appendChild(n)}else e()}var t,f,h,c;$(window).on("hashchange",function(){window.location.reload()});if(t=window.ControlUtils.getQueryStringMap(!window.utils.windowsApp),window.ControlUtils.i18nInit(function(){window.CanvasRenderingContext2D||n()},t),window.CanvasRenderingContext2D){var u=t.getString("config"),o=t.getBoolean("startOffline"),s=t.getString("xdomain_urls");null!==s&&window.ControlUtils.initXdomain(s);$.ajaxSetup({cache:!0});var i=t.getString("pdf"),r=t.getString("office"),a=t.getString("pdfServer");"pnacl"===i||"ems"===i||"jsworker"===i||"auto"===i||"wait"===i||"pnacl"===r||"ems"===r||"jsworker"===r||"auto"===r||"wait"===r||a?(i=i||"wait",r=r||"wait",f=["external/FileSaver.min.js","pdf/PDFReaderControl.js"],t.getBoolean("portablejs",!1)&&f.push("./pdf/PortableJS.js"),h=window.assetPath,c=f.map(function(n){if("jsworker"===i&&"external/FileSaver.min.js"===n)return null;var r=new $.Deferred,t=document.createElement("script");return t.type="text/javascript",document.getElementsByTagName("body")[0].appendChild(t),t.onload=function(){r.resolve()},t.src=h+n,r}),$.when.apply(null,c).done(function(){ReaderControl.config=DesktopReaderControl.config;l()})):l()}};n.ControlUtils.getCustomData=function(){var t=n.ControlUtils.getQueryStringMap().getString("custom");return null===t?null:t};n.ControlUtils.getI18nOptions=function(n,t){var i={useCookie:!1,useDataAttrOptions:!0,defaultValueFromContent:!1,fallbackLng:"en",lng:t.getString("language"),resGetPath:t.getString("languageUrl","i18n/__ns__-__lng__.json")};return n||(i.lng="en"),i};n.ControlUtils.i18nInit=function(t,i){i18n.init(n.ControlUtils.getI18nOptions(!0,i),function(){$(document).trigger("i18nready");t&&t();$("body").i18n()})};n.ControlUtils.initXdomain=function(n){var t=JSON.parse(n),i=$("<script>").attr("src","external/xdomain.js");t.url&&i.attr("slave",t.url);$("head").append(i);t.url||xdomain.slaves(t)};n.ControlUtils.getNotifyFunction=function(n,t){switch(t){case"permissionEdit":alert(i18n.t("annotations.permissionEdit"));break;case"permissionDelete":alert(i18n.t("annotations.permissionDelete"));break;case"readOnlyCreate":alert(i18n.t("annotations.readOnlyCreate"));break;case"readOnlyDelete":alert(i18n.t("annotations.readOnlyDelete"));break;case"readOnlyEdit":alert(i18n.t("annotations.readOnlyEdit"));break;case"endOfDocumentSearch":var i=confirm(i18n.t("endOfDocument"));readerControl.docViewer.trigger("endOfDocumentResult",i);break;case"noMatchesFound":alert(i18n.t("noMatchesFound"))}};n.ControlUtils.byteRangeCheck=function(n,t){$.ajax({url:window.location.href,type:"GET",cache:!1,headers:{Range:"bytes=0-0"},success:function(t,i,r){n(r.status)},error:function(){t()}})};i={toolList:[],viewerPreferences:{showSideWindow:!0},registerTool:function(t,i,r,u){var e={tool:t,name:i,annotationCheck:function(n){var t=n.elementName===r.prototype.elementName;return t&&u&&(t=u(n)),t}},f=this._importToolData(i),o;e.defaultEditMode=f&&f.defaultEditMode?f.defaultEditMode:n.ControlUtils.editMode.basic;o=new r;o.StrokeColor&&(e.colors=f&&f.colors?f.colors:["#FF0000","#FF8000","#FFFF00","#00FF00","#008000","#00FFFF","#0000FF","#FF00FF","#000000","#FFFFFF"]);o.FillColor&&(e.fillColors=f&&f.fillColors?f.fillColors:["#FF0000","#FF8000","#FFFF00","#00FF00","#008000","#00FFFF","#0000FF","#FF00FF","#000000","#FFFFFF","transparent"]);o.TextColor&&(e.textColors=f&&f.textColors?f.textColors:["#FF0000","#FF8000","#FFFF00","#00FF00","#008000","#00FFFF","#0000FF","#FF00FF","#000000","#FFFFFF"]);f&&f.defaults&&(t.defaults=f.defaults);this.toolList.push(e)},_getMatchingTools:function(n){for(var i=[],r=this.toolList.length,t=0;t<r;++t)this.toolList[t].annotationCheck(n)&&i.push(this.toolList[t]);return i},getToolColors:function(n){var t=this._getMatchingTools(n);if(1===t.length)return{colors:t[0].colors,fillColors:t[0].fillColors,textColors:t[0].textColors}},getAdvancedToolColors:function(){return["#F8E0E0","#F8ECE0","#F7F8E0","#E0F8E0","#E0F8F7","#E0E0F8","#ECE0F8","#F8E0F7","#FFFFFF","#F5A9A9","#F5D0A9","#F2F5A9","#A9F5A9","#A9F5F2","#A9A9F5","#D0A9F5","#F5A9F2","#E6E6E6","#FA5858","#FAAC58","#F4FA58","#58FA58","#58FAF4","#4848FA","#AC58FA","#FA58F4","#BDBDBD","#FF0000","#FF8000","#FFFF00","#00FF00","#00FFFF","#0000FF","#8000FF","#FF00FF","#808080","#B40404","#B45F04","#AEB404","#04B404","#04B4AE","#0404B4","#5F04B4","#B404AE","#585858","#800000","#804000","#808000","#008000","#008080","#000080","#400080","#800080","#444444","#610B0B","#61380B","#5E610B","#0B610B","#0B615E","#0B0B61","#380B61","#610B5E","#2E2E2E","#2A0A0A","#2A1B0A","#292A0A","#0A2A0A","#0A2A29","#0A0A2A","#1B0A2A","#2A0A29","#000000"]},_getColorList:function(n,t){var r=null,i=this._getMatchingTools(n);return 1===i.length&&("StrokeColor"===t?r=i[0].colors:"FillColor"===t?r=i[0].fillColors:"TextColor"===t&&(r=i[0].textColors)),{tool:i[0],colorList:r}},addToolColor:function(n,t,i){var u=this._getColorList(n,t),r=u.colorList;null!==r&&-1===r.indexOf(i)&&("FillColor"===t?r.splice(-1,0,i):r.push(i),this._exportToolData(u.tool))},removeToolColor:function(n,t,i){var f=this._getColorList(n,t),r=f.colorList,u;null!==r&&(u=r.indexOf(i),-1<u&&(r.splice(u,1),this._exportToolData(f.tool)))},getDefaultToolEditingMode:function(n){var t=this._getMatchingTools(n);return 1===t.length?t[0].defaultEditMode:null},setDefaultToolEditingMode:function(n,t){var i=this._getMatchingTools(n);1===i.length&&(i[0].defaultEditMode=t,this._exportToolData(i[0]))},defaultToolValueChanged:function(n,t,i){var r=this._getMatchingTools(n);1===r.length&&(r[0].tool.defaults[t]=i,this._exportToolData(r[0]))},_exportTool:function(n){var t={defaultEditMode:n.defaultEditMode};n.colors&&(t.colors=n.colors);n.fillColors&&(t.fillColors=n.fillColors);n.textColors&&(t.textColors=n.textColors);t.defaults=n.tool.defaults;this._storePreference("toolData-"+n.name,t)},_exportToolData:function(n){_.isUndefined(n)?this.toolList.forEach(this._exportTool):this._exportTool(n)},_importToolData:function(n){return this._getPreference("toolData-"+n)},getViewerPreferences:function(){return this.viewerPreferences=this._getPreference("viewerPreferences")||this.viewerPreferences,this.viewerPreferences},setViewerPreference:function(n,t){this.viewerPreferences[n]=t;this._storePreference("viewerPreferences",this.viewerPreferences)},_storePreference:function(n,t){try{localStorage[n]=JSON.stringify(t)}catch(n){console.warn("localStorage could not be accessed. "+n.message)}},_getPreference:function(n){var t;try{t=localStorage[n]}finally{return t?JSON.parse(t):null}}};n.ControlUtils.userPreferences=i;n.ControlUtils.editMode={basic:"Basic",advanced:"Advanced"};$(document).on("defaultToolValueChanged",function(n,t,r,u){i.defaultToolValueChanged(t,r,u)});n.ControlUtils.getSelectedAnnotation=function(){var t=readerControl.docViewer.getAnnotationManager(),i=t.getSelectedAnnotations(),n;return i.length<=0?null:(n=i[0],t.canModify(n)?n:null)};n.ControlUtils.PropertyManager=function(t,i,r){this.annotationProperty=t;this.$slider=i;this.$radioContainer=r;this.displayUnit="";this.annotationPropertyModifier=function(n){return n};var u=this;r.find("[data-value]").each(function(){var t=$(this),i=t.attr("data-value");t.on("click",function(){u.update(i);readerControl.fireEvent("defaultToolValueChanged",[n.ControlUtils.getSelectedAnnotation(),u.annotationProperty,u.annotationPropertyModifier(i)])})})};n.ControlUtils.PropertyManager.prototype={setDisplayUnit:function(n){this.displayUnit=n},setAnnotationPropertyModifier:function(n){this.annotationPropertyModifier=n},update:function(t,i){var u,r,f;i=!!_.isUndefined(i)||i;u=this.$radioContainer.find('[data-value="'+t+'"]');(0<u.length?u.prop("checked",!0):this.$radioContainer.find("[data-value]").prop("checked",!1),this.$radioContainer.find(".propertyValue").text(Math.round(t)+this.displayUnit),i)&&(r=n.ControlUtils.getSelectedAnnotation(),r&&(r[this.annotationProperty]=this.annotationPropertyModifier(t),f=readerControl.docViewer.getAnnotationManager(),f.trigger("annotationChanged",[[r],"modify"]),f.updateAnnotation(r),n.ControlUtils.updateAnnotPreview(r)))}};n.ControlUtils.setPreviewCanvas=function(n,t,i){u=new r(n,t,i)};n.ControlUtils.updateAnnotPreview=function(n){u.update(n)};r=function(n,t,i){this.canvas=n;this.ctx=this.canvas.getContext("2d");this.width=t;this.height=i};r.prototype={drawRectangle:function(n,t){var i=this.ctx.lineWidth;this.ctx.save();this.ctx.beginPath();this.ctx.moveTo(i,i);this.ctx.lineTo(this.width-i,i);this.ctx.lineTo(this.width-i,this.height-i);this.ctx.lineTo(i,this.height-i);this.ctx.closePath();this.ctx.clip();this.ctx.moveTo(0,0);this.ctx.fillRect(0,0,this.width,this.height);t&&(this.ctx.fillStyle=t.toString(),this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillText("Aa",this.width/2,this.height/2));this.ctx.restore();0<n&&(this.ctx.lineWidth*=2,this.ctx.strokeRect(0,0,this.width,this.height))},drawCircle:function(){var n=.5*this.width,t=.5*this.height,i=.5*this.width,r=this.ctx.lineWidth;this.ctx.beginPath();this.ctx.arc(n,t,i-r,0,2*Math.PI);this.ctx.fill();this.ctx.beginPath();this.ctx.arc(n,t,i-r/2,0,2*Math.PI);this.ctx.stroke()},drawHorizontalLine:function(){this.ctx.beginPath();this.ctx.moveTo(0,this.height/2);this.ctx.lineTo(this.width,this.height/2);this.ctx.stroke()},drawDiagonalLine:function(){this.ctx.beginPath();this.ctx.moveTo(10,this.height-10);this.ctx.lineTo(this.width-10,10);this.ctx.stroke()},drawCurvedLine:function(){this.ctx.lineCap="round";this.ctx.beginPath();this.ctx.moveTo(1/8*this.width,.5*this.height);this.ctx.bezierCurveTo(5/16*this.width,3/8*this.height,5/16*this.width,3/8*this.height,.5*this.width,.5*this.height);this.ctx.bezierCurveTo(.6875*this.width,5/8*this.height,.6875*this.width,5/8*this.height,7/8*this.width,.5*this.height);this.ctx.stroke()},drawStickyNote:function(n){var t=.75/Math.max(n.SIZE/this.width,n.SIZE/this.height);this.ctx.translate(.125*this.width,.125*this.height);this.ctx.scale(t,t);n.draw(this.ctx)},update:function(n){var t=n.StrokeThickness,r=n.StrokeColor,i=n.FillColor,u=n.Opacity,f=n.TextColor,e=n.FontSize;this.ctx.save();this.ctx.clearRect(0,0,this.width,this.height);t&&(this.ctx.lineWidth=t);r&&(this.ctx.strokeStyle=r.toString());i&&(this.ctx.fillStyle=i.toString());_.isUndefined(u)||(this.ctx.globalAlpha=u);_.isUndefined(e)||(this.ctx.font=e+" Arial");n instanceof Annotations.TextMarkupAnnotation&&!(n instanceof Annotations.TextHighlightAnnotation)||n instanceof Annotations.PolylineAnnotation?this.drawHorizontalLine():n instanceof Annotations.LineAnnotation?this.drawDiagonalLine():n instanceof Annotations.FreeHandAnnotation?this.drawCurvedLine():n instanceof Annotations.StickyAnnotation?this.drawStickyNote(n):n instanceof Annotations.RectangleAnnotation||n instanceof Annotations.FreeTextAnnotation||n instanceof Annotations.PolygonAnnotation?this.drawRectangle(t,f):n instanceof Annotations.EllipseAnnotation?this.drawCircle():i?this.drawRectangle(t,f):this.drawHorizontalLine();this.ctx.restore()}}}(window);$(function(){"use strict";function ht(n,t,i){window.ControlUtils.PropertyManager.apply(this,arguments);i.buttonset()}function or(t){er=t;var i=n.docViewer.getDisplayModeManager().getDisplayMode().pageToWindow({x:t.x,y:t.y},t.pageIndex);i.y-=y.scrollTop();st(i,y.scrollLeft(),"center center",function(n,t){t.element.css(n)});u.dialog("open")}function yr(n){var t,i;g.find("[data-toolmode]").removeClass("active");"TextSelect"===n&&(n="AnnotationEdit");t=g.find('[data-toolmode="'+n+'"]');0<t.length?t.addClass("active"):(i=ct.find('[data-toolmode="'+n+'"]'),0<i.length&&function(n){var i=n.clone().attr("id","latestTool").addClass("active"),t,r;0<g.find("#latestTool").length?(t=g.find("#latestTool"),r=t.data("toolmode"),ct.find('[data-toolmode="'+r+'"]').css("display","inline-block"),t.replaceWith(i)):i.insertBefore($("#overflowTools"));n.css("display","none")}(i))}function e(){u.dialog("close");t.hide();w.hide();pt.hide();b.hide();r.show();u.dialog("option","dialogClass",ur);cr(!1,!0);v=c.none}function dt(){var e,u,f,t,o;if(v===c.annotEdit||v===c.none){if(!n.enableAnnotations)return;if(e=i.getSelectedAnnotations(),1===e.length){for(u=e[0],r.children().detach(),f=0;f<window.AnnotationEdit.buttons.length;++f)t=window.AnnotationEdit.buttons[f],t.isHidden(u)||(r.append(t.element),t.getText&&t.element.attr("data-i18n",t.getText(u)).i18n());o=r.children();o.first().addClass("leftRounded");o.last().addClass("rightRounded");sr(u)}}else v===c.textSelect?ar(fr):v===c.signature&&or(er)}function sr(t){function r(n,t){t.element.css(n)}var s=y.scrollTop(),i=y.scrollLeft(),h=y.height(),f=t.PageNumber-1,e=n.docViewer.getCompleteRotation(t.PageNumber),o=n.docViewer.getDisplayModeManager().getDisplayMode(),c=o.pageToWindow(vi(t,e,"top"),f);u.dialog("open");c.y-=s+bt;st(c,i,"center bottom",function(n,u){if(n.top<kt){var c=o.pageToWindow(vi(t,e,"bottom"),f);c.y=c.y-s+bt;st(c,i,"center top",function(n,u){if(n.top+u.height-kt>=h){var s=o.pageToWindow(vi(t,e,"center"),f);s.y=h/2;st(s,i,"center center",function(n,t){r(n,t)})}else r(n,u)})}else r(n,u)})}function vi(n,t,i){var r,u,f=n.getWidth(),e=n.getHeight();switch(t){case 0:r=n.getX()+f/2;u=n.getY();"bottom"===i&&(u+=e);break;case 1:r=n.getX();u=n.getY()+e/2;"bottom"===i&&(r+=f);break;case 2:r=n.getX()+f/2;u=n.getY()+e;"bottom"===i&&(u-=e);break;case 3:r=n.getX()+f;u=n.getY()+e/2;"bottom"===i&&(r-=f)}return{x:r,y:u}}function st(n,t,i,r){n.x-=t;u.dialog("option","position",{my:i,at:"left+"+n.x+" top+"+n.y,of:window,collision:"fit",within:document.body,using:function(n,t){r(n,t.element)}})}function hr(n,t){var i=vr(n);gt(t);yi(t.find('li[data-color="'+i+'"]'))}function yi(n){n.prepend('<div class="color-selected"><\/div>')}function gt(n){n.find("div.color-selected").remove()}function pi(n){var t=$('<li data-color="'+n+'"><\/li>'),i=$("<div><\/div>").css("background",n);return t.append(i),t}function l(n){var r,i,u;(h=n)===f.color?(r=t.find("#colorButton"),i=ot.colors):n===f.fillColor?(r=t.find("#fillColorButton"),i=ot.fillColors):n===f.textColor&&(r=t.find("#textColorButton"),i=ot.textColors);it.removeClass("removing");wt=!1;nt.removeClass("active");r.addClass("active");lr();u=window.ControlUtils.getSelectedAnnotation();u&&(tt.find("[data-color]").remove(),i?(a.show(),s.show(),i.forEach(function(n){ri.before(pi(n))}),hr(u[h],a),hr(u[h],s)):(a.hide(),s.hide()))}function wi(t,r){var e=h,u=window.ControlUtils.getSelectedAnnotation(),f,s;u&&(f=function(n){return"transparent"!==n?new Annotations.Color(n):new Annotations.Color(255,255,255,0)}(t.attr("data-color")),wt?(s=vr(f),"transparent"!==s&&(o.removeToolColor(u,e,s),ot=o.getToolColors(u),t.remove())):(gt(r),yi(t),f&&(u[e]=f,i.updateAnnotation(u),i.trigger("annotationChanged",[[u],"modify"]),n.fireEvent("defaultToolValueChanged",[u,e,f]),window.ControlUtils.updateAnnotPreview(u))))}function cr(n,t){(wt=n)?(it.addClass("removing"),tt.find("li").each(function(n,t){var r=t.getAttribute("data-color"),i;null!==r&&"transparent"!==r&&(i=$(t),i.find("div.color-selected").remove(),i.prepend('<div class="color-removing"><\/div>'))})):(it.removeClass("removing"),tt.find("div.color-removing").remove(),t||l(h))}function lr(){var n=s.find('[data-color="transparent"]');h===f.fillColor?n.show():n.hide()}function ar(t){var i=(fr=t).quad,r={x:(i.x1+i.x3)/2,y:Math.min(i.y1,i.y3),pageIndex:t.pageIndex},f=n.docViewer.getDisplayModeManager().getDisplayMode().pageToWindow({x:r.x,y:r.y},r.pageIndex);f.y-=y.scrollTop()+bt;st(f,y.scrollLeft(),"center bottom",function(n,t){n.top<kt&&(n.top=kt+bt);t.element.css(n)});u.dialog("open");ir.trigger("showTextSelectMenu")}function vr(n){var t=n.toHexString();return t||"transparent"}var n,p,i,o,nt,a,tt,ni,bi,ti,ki,ii,di,ri,it,s,d,ui,rt,fi,gi,nr,g,ct,ut,ft,u,r,t,w,ei,oi,si,hi,ci,lt,at,li,vt,tr,yt,et,pt,b,ot,ir=$(document),rr="no-title annotEditDialog",ur=rr+" dialogTransparent",f={color:"StrokeColor",fillColor:"FillColor",textColor:"TextColor"},h=f.color,wt=!1,k=window.ControlUtils.editMode,ai=k.basic,c={none:0,annotEdit:1,textSelect:2,signature:3},v=c.none,fr=null,er=null;ht.prototype=$.extend({},window.ControlUtils.PropertyManager.prototype,{update:function(n){window.ControlUtils.PropertyManager.prototype.update.apply(this,arguments);this.$radioContainer.buttonset("refresh");this.$slider.slider("option","value",n)}});$(document).on("viewerLoaded",function(){function vi(){var n,t;st.prop("checked",!1);n=$("#signatureAddButton");n.hasClass("unclickableButton")||n.addClass("unclickableButton");t=window.innerWidth*(2/3);et.dialog("option",{width:t,height:t/2});et.dialog("open")}var st,y,bt,kt;n=window.readerControl;p=n.docViewer;i=p.getAnnotationManager();o=window.ControlUtils.userPreferences;$("#toolList").hide();$("#overflowTools").hide();u=$("#annotEditDialog").dialog({autoOpen:!1,draggable:!1,resizable:!1,minHeight:"auto",width:"auto",dialogClass:ur,position:{within:document.body}});t=u.find("#annotEditProperties");a=t.find("#colorPicker");tt=a.find(".colorPicker");nt=t.find(".colorButton");ni=t.find(".fontSizePicker");bi=t.find("#fontSizeRadio");ui=t.find("#advancedFontSizeSlider");ti=t.find(".thicknessPicker");ki=t.find("#thicknessRadio");rt=t.find("#advancedThicknessSlider");ii=t.find(".opacityPicker");di=t.find("#opacityRadio");fi=t.find("#advancedOpacitySlider");li=t.find("#basicProperties");vt=t.find("#advancedProperties");s=vt.find(".colorPicker");lt=t.find("#basicPropertyEdit");at=t.find("#advancedPropertyEdit");gi=t.find("#basicPropertyContainer");nr=t.find("#advancedPropertyContainer");w=u.find("#addNewColor");d=w.find(".colorPicker");tr=w.find("#cancelAddColor");yt=w.find("#selectAddColor");ri=t.find("#addColorButton");it=t.find("#removeColorButton");r=u.find("#annotEditButtons");ei=r.find("#annotEditDelete");oi=r.find("#annotEditStyle");si=r.find("#annotEditNote");hi=r.find("#annotApplyRedact");g=$("#toolList, #primaryToolList");ct=$("#overflowToolsContainer");ft=document.getElementById("annotPreviewCanvas");ut=$(ft);window.ControlUtils.setPreviewCanvas(ft,ft.width,ft.height);g.on("click","span",function(){var t=$(this),r;if("overflowTools"!==t.attr("id")){if(t.hasClass("annotTool")&&i.getReadOnly())return void p.trigger("notify","readOnlyCreate");r=t.attr("data-toolmode");n.setToolMode(r)}});ct.on("click","span",function(){if(i.getReadOnly())p.trigger("notify","readOnlyCreate");else{var t=$(this).attr("data-toolmode");n.setToolMode(t)}});p.on("mouseLeftDown",function(){e()});p.on("mouseLeftUp",function(){setTimeout(function(){dt()},0)}),function(){function ft(n){return 100===n?"":n}function g(n){ai=n;l(h);ai===k.basic?(lt.addClass("selected"),li.show(),at.removeClass("selected"),vt.hide(),ut.parent().insertBefore(gi)):ai===k.advanced&&(lt.removeClass("selected"),li.hide(),at.addClass("selected"),vt.show(),ut.parent().insertBefore(nr))}function et(){w.hide();t.show()}var p,b,y;$(document).on("sidePanelVisibilityChanged notesPanelVisibilityChanged",function(){dt()});n.docViewer.on("fitModeUpdated displayModeUpdated zoomUpdated",function(){n.docViewer.getDocument()&&dt()});n.docViewer.on("beforeDocumentLoaded pageNumberUpdated",function(){e()});u.find("#annotEditDone").on("click",function(){i.deselectAllAnnotations();e()});ei.on("click",function(){i.deleteAnnotations(i.getSelectedAnnotations())});oi.on("click",function(){var n;if(u.dialog("option","dialogClass",rr),t.show(),r.hide(),n=i.getSelectedAnnotations()[0],n){v=c.annotEdit;ot=o.getToolColors(n);var s=n.StrokeColor,h=n.FillColor,a=n.TextColor,e=0,w=t.find("#colorType").show();nt.show();a?(l(f.textColor),e++):t.find("#textColorButton").hide();h?(l(f.fillColor),e++):t.find("#fillColorButton").hide();s?(l(f.color),e++):t.find("#colorButton").hide();n.FontSize?(p.update(parseFloat(n.FontSize),!1),ni.show()):ni.hide();null!==n.StrokeThickness&&void 0!==n.StrokeThickness?(ti.show(),n instanceof Annotations.FreeTextAnnotation&&n.getIntent()===Annotations.FreeTextAnnotation.Intent.FreeText?rt.slider("option","min",0):rt.slider("option","min",1),b.update(n.StrokeThickness,!1)):ti.hide();n instanceof Annotations.TextHighlightAnnotation?(ii.hide(),ut.hide()):(ii.show(),y.update(100*n.Opacity,!1),ut.show());e<=1?w.hide():2===e?nt.css("width","50%"):3===e&&nt.css("width","33%");window.ControlUtils.updateAnnotPreview(n);g(o.getDefaultToolEditingMode(n));ir.triggerHandler("annotEditDialogReady",{annotation:n,opacityManager:y});sr(n)}});t.find("#colorButton").on("click",function(){l(f.color)});t.find("#fillColorButton").on("click",function(){l(f.fillColor)});t.find("#textColorButton").on("click",function(){l(f.textColor)});si.on("click",function(){var n=i.getSelectedAnnotations()[0];n&&(i.canModifyContents(n)||i.getReadOnly()?i.trigger("annotationDoubleClicked",n):$(document).trigger("startAddingReply",n))});hi.on("click",function(){var t=i.getSelectedAnnotations()[0];t&&t instanceof Annotations.RedactionAnnotation&&i.applyRedactions(t,n.docViewer)});a.on("click","li",function(){wi($(this),a)});p=new ht("FontSize",ui,bi);p.setAnnotationPropertyModifier(function(n){return n+"pt"});ui.slider({range:"min",min:5,max:72,value:9,slide:function(n,t){window.ControlUtils.getSelectedAnnotation()&&($(t.handle).text(t.value),p.update(t.value))},stop:function(t,r){var u=window.ControlUtils.getSelectedAnnotation();u&&(i.trigger("annotationChanged",[[u],"modify"]),n.fireEvent("defaultToolValueChanged",[u,"FontSize",r.value+"pt"]))},change:function(n,t){var i=$(t.handle);i.attr("title",t.value);i.text(t.value)}});b=new ht("StrokeThickness",rt,ki);b.setDisplayUnit("pt");rt.slider({range:"min",min:1,max:12,value:1,slide:function(n,t){window.ControlUtils.getSelectedAnnotation()&&($(t.handle).text(t.value),b.update(t.value))},stop:function(t,r){var u=window.ControlUtils.getSelectedAnnotation();u&&(i.trigger("annotationChanged",[[u],"modify"]),n.fireEvent("defaultToolValueChanged",[u,"StrokeThickness",r.value]))},change:function(n,t){var i=$(t.handle);i.attr("title",t.value);i.text(t.value)}});y=new ht("Opacity",fi,di);y.setDisplayUnit("%");y.setAnnotationPropertyModifier(function(n){return n/100});fi.slider({range:"min",min:0,max:100,value:100,slide:function(n,t){window.ControlUtils.getSelectedAnnotation()&&($(t.handle).text(ft(t.value)),y.update(t.value))},stop:function(t,r){var u=window.ControlUtils.getSelectedAnnotation();u&&(i.trigger("annotationChanged",[[u],"modify"]),n.fireEvent("defaultToolValueChanged",[u,"Opacity",r.value/100]))},change:function(n,t){var i=$(t.handle);i.attr("title",t.value);i.text(ft(t.value))}});o.getAdvancedToolColors().forEach(function(n){var t=pi(n);d.append(t);s.append(t.clone())});s.append(pi("transparent"));ri.on("click",function(n){n.stopImmediatePropagation();t.hide();w.show();gt(d);yt.addClass("disabled")});it.on("click",function(n){n.stopImmediatePropagation();cr(!wt)});lt.on("click",function(){g(k.basic);o.setDefaultToolEditingMode(window.ControlUtils.getSelectedAnnotation(),k.basic)});at.on("click",function(){g(k.advanced);o.setDefaultToolEditingMode(window.ControlUtils.getSelectedAnnotation(),k.advanced);lr()});s.on("click","li",function(){wi($(this),s)});d.on("click","li",function(){gt(d);yi($(this));yt.removeClass("disabled")});tr.on("click",function(){et()});yt.on("click",function(){if(!$(this).hasClass("disabled")){var n=d.find(".color-selected").parent().attr("data-color");o.addToolColor(window.ControlUtils.getSelectedAnnotation(),h,n);l(h);wi(tt.find('li[data-color="'+n+'"]'),a);et()}})}(),function(){function t(t,r,f){b.find("#"+t).on("click",function(){var c,o,s,h;for(c in u)if(u.hasOwnProperty(c)){var l=parseInt(c,10),a=u[l],t=new r;(t.PageNumber=l+1,t.Quads=a,t.Author=n.getAnnotationUser(),t.StrokeColor=f.defaults.StrokeColor,!Tools.TextAnnotationCreateTool.AUTO_SET_TEXT||t instanceof Annotations.RedactionAnnotation)?t instanceof Annotations.RedactionAnnotation&&(o=n.docViewer.toolModeMap.AnnotationCreateRedaction.defaults,null!==t.StrokeColor&&o.StrokeColor&&(s=o.StrokeColor,t.StrokeColor=new Annotations.Color(s.R,s.G,s.B,s.A)),(null!==t.StrokeThickness&&o.StrokeThickness&&(t.StrokeThickness=o.StrokeThickness),null!==t.FillColor&&o.FillColor)&&(h=o.FillColor,t.FillColor=new Annotations.Color(h.R,h.G,h.B,h.A))):t.setContents(n.docViewer.getSelectedText(l+1));i.addAnnotation(t)}n.docViewer.clearSelection();e();setTimeout(function(){dt()},0)})}var u=null,f;b=$("#textSelectionContainer");ci=b.find("#selectRedactionButton");f=b.find("#copyButton");n.docViewer.on("textSelected",function(n,t){null===t&&e()});n.toolModeMap.TextSelect.on("selectionComplete",function(t,e,o){!i.getReadOnly()&&n.enableAnnotations||(f.siblings().hide(),f.addClass("rightRounded"));v=c.textSelect;u=o;b.show();i.isCreateRedactionEnabled()?ci.show():ci.hide();pt.hide();r.hide();ar(e)});f.on("click",function(){n.copyButtonHandler();e()});t("selectHighlightButton",Annotations.TextHighlightAnnotation,n.toolModeMap.AnnotationCreateTextHighlight);t("selectStrikeoutButton",Annotations.TextStrikeoutAnnotation,n.toolModeMap.AnnotationCreateTextStrikeout);t("selectUnderlineButton",Annotations.TextUnderlineAnnotation,n.toolModeMap.AnnotationCreateTextUnderline);t("selectSquigglyButton",Annotations.TextSquigglyAnnotation,n.toolModeMap.AnnotationCreateTextSquiggly);t("selectRedactionButton",Annotations.RedactionAnnotation,n.toolModeMap.AnnotationCreateRedaction)}();window.AnnotationEdit={buttons:[{element:r.find("#annotEditDone"),isHidden:function(){return!1}},{element:ei,isHidden:function(n){return!i.canModify(n)}},{element:oi,isHidden:function(n){return!i.canModify(n)}},{element:si,isHidden:function(n){var t=n instanceof Annotations.FreeTextAnnotation,r=i.getReadOnly()&&(""===n.getContents()||t),u=!n.Listable&&!t;return r||u},getText:function(n){return i.getReadOnly()?"annotationPopup.buttonNote":i.canModifyContents(n)?n instanceof Annotations.FreeTextAnnotation?"annotationPopup.buttonEditText":"annotationPopup.buttonNote":"annotationPopup.buttonReply"}},{element:hi,isHidden:function(n){return!i.isAnnotationRedactable(n)}}]};et=$("#signatureDialog").dialog({autoOpen:!1,draggable:!1,resizable:!1,modal:!0,dialogClass:"noCloseButton",position:{within:document.body},open:function(){var n=$(this),t=window.utils.getCanvasMultiplier(),i=n.width(),r=n.height()-35;kt.attr({width:i*t,height:r*t}).css({width:i,height:r});y.openSignature()},close:function(){y.clearSignatureCanvas()}});pt=$("#signatureSelectionContainer");$("#signatureCancelButton").on("click",function(){et.dialog("close")});$("#signatureClearButton").on("click",function(){y.clearSignatureCanvas();y.drawBackground();var n=$("#signatureAddButton");n.hasClass("unclickableButton")||n.addClass("unclickableButton")});$("#signatureAddButton").on("click",function(){var n=st.prop("checked");y.addSignature(n)&&et.dialog("close")});$("#mySignatureButton").on("click",function(){y.addDefaultSignature();e()});$("#newSignatureButton").on("click",function(){vi();e()});$("#makeDefaultSignatureText").on("click",function(){var n=st.prop("checked");st.prop("checked",!n)});st=$("#makeDefaultSignature");y=n.toolModeMap.AnnotationCreateSignature;y.on("locationSelected",function(n,t){y.hasDefaultSignature()?(v=c.signature,pt.show(),b.hide(),r.hide(),or(t)):vi()});bt=$("#signatureAddButton");kt=$("#signatureCanvas");$(document).on("mouseup click touchend",function(){bt.hasClass("unclickableButton")&&!y.isEmptySignature()&&bt.removeClass("unclickableButton")});y.setSignatureCanvas(kt);(i=p.getAnnotationManager()).on("annotationSelected",function(n,t,i){null!==t&&1===t.length&&"deselected"!==i||e()});i.on("annotationChanged",function(n,t,i){n.imported||"delete"!==i||e()})});$(document).on("documentLoaded",function(){var t=n.docViewer.getAnnotationManager();t.isCreateRedactionEnabled()||$('span[data-toolmode="AnnotationCreateRedaction"]').hide();!t.getReadOnly()&&n.enableAnnotations&&($("#toolList").show(),$("#overflowTools").show())});$(document).on("toolModeChanged",function(t,i){var r="";for(var u in n.toolModeMap)if(i===n.toolModeMap[u]){r=u;break}r&&yr(r)});var bt=10,kt=$("#control").outerHeight(),y=$("#DocumentViewer");y.on("scroll",function(){e()})});$(function(){"use strict";function rt(){var t=i.width(),r=window.innerWidth,n=Math.max(.45*r,g);i.resizable("option","maxWidth",n);n<t&&i.width(n)}function p(n){setTimeout(n,0)}function a(r){r&&r.target!==window&&!t||(rt(),l.height(t.getViewerHeight()),i.height(t.getViewerHeight()),t.notesPanelVisible()&&(l.hasClass("hidden")||p(function(){var t=n.getPanelAdjustment();l.width(i.width()-tt.width()+t);n.updateAllPositions(!0);n.updateAllAnnotLines()})))}var r=$(document),f,e,w,b,t,h,o,it,n,g,y;if(!window.ControlUtils.getQueryStringMap().getBoolean("hideAnnotationPanel",!1)){f=function(n,t,i,r){this._editable=t;this._replyable=i;this._deletable=r;this._isEditing=!1;this._stayUncollapsed=!1;this._annotation=n;this._parent=null;this.$container=$('<div class="noteContainer">');this.createContainer()};f.prototype={COLLAPSE_HEIGHT:120,createContainer:function(){var n=this,t=this.getAnnotation(),i=this.getContainer(),u,o,c,l,e,s;i.data("annot",t);u={userImage:{},author:null,subject:null,createdTime:null};r.triggerHandler("notePopupCreate",{annotation:t,viewData:u});var h=$('<div class="noteHeader">'),f=$('<div class="noteAuthorAndTime">'),a=$('<span class="noteAuthor">').text(u.author||t.Author),v=$('<span class="noteSubject">').text(u.subject||t.Subject);f.append(a);f.append("<span> - <\/span>");f.append(v);o="h:mm A MMM D";t.DateCreated&&(new Date).getFullYear()!==t.DateCreated.getFullYear()&&(o="h:mm A MMM D YYYY");c=u.createdTime||(t.DateCreated?moment(t.DateCreated).format(o):"");l=$('<div class="noteTime">').text(c);f.append(l);h.append(f);i.append(h);this.$staticNoteContents=$('<div class="staticNoteContents">').text(t.getContents());i.append(this.$staticNoteContents);this.$collapseButtonsContainer=$('<div class="collapseButtonsContainer">');this.$showMoreButton=$('<a class="notesLink" data-i18n="notesPanel.showMore"><\/a>');this.$showMoreButton.on("click",function(){n._stayUncollapsed=!0;n.$staticNoteContents.removeClass("noteCollapsed");n.$showMoreButton.hide();n.$showLessButton.show()});this.$showLessButton=$('<a class="notesLink" data-i18n="notesPanel.showLess"><\/a>');this.$showLessButton.on("click",function(){n._stayUncollapsed=!1;n.$staticNoteContents.addClass("noteCollapsed");n.$showMoreButton.show();n.$showLessButton.hide()});this.$collapseButtonsContainer.append(this.$showMoreButton);this.$collapseButtonsContainer.append(this.$showLessButton);i.append(this.$collapseButtonsContainer);this.$editButtonsContainer=$('<div class="editButtonsContainer">');this.$editButton=$('<a class="notesLink" data-i18n="notesPanel.edit"><\/a>');this.$editButton.on("click",function(){n.switchToEditingMode();n.trigger("update")});this.$deleteButton=$('<a class="notesLink" data-i18n="notesPanel.delete"><\/a>');this.$deleteButton.on("click",function(){n.showDeleteConfirmation()});this.$editButtonsContainer.append(this.$editButton);this.$editButtonsContainer.append(this.$deleteButton);i.append(this.$editButtonsContainer);this._editable||this.$editButton.hide();this._deletable||this.$deleteButton.hide();this.$noteContents=$('<div class="noteContents">').hide();this.$textarea=$('<textarea class="panelElementFont">');this.$textarea.on("update",function(){n._updateSaveButtonStatus();r.trigger("noteTextAreaOnUpdate",{context:n})});this._handleKeyboardSaveShortcut(this.$textarea,function(){n.$saveButton.trigger("click")});this.$noteContents.append(this.$textarea);i.append(this.$noteContents);e=$('<div class="noteButtonsContainer">');this.$saveButton=$('<button type="button" class="roundedCornerButton" data-i18n="notesPanel.save"><\/button>');this.$saveButton.on("click",function(){n.save()});s=$('<button type="button" class="roundedCornerButton" data-i18n="notesPanel.cancel"><\/button>');s.on("click",function(){n.cancel(!0)});e.append(this.$saveButton);e.append(s);this.$noteContents.append(e);i.i18n();r.trigger("notePopupReady",{context:n,container:i,annotation:t})},getContainer:function(){return this.$container},getAnnotation:function(){return this._annotation},setParent:function(n){this._parent=n},getText:function(){return this.getAnnotation().getContents()||""},isEditing:function(){return this._isEditing},forceUncollapsed:function(){this._stayUncollapsed=!0},unforceUncollapsed:function(){this._stayUncollapsed=!1},collapseContents:function(){this.$staticNoteContents.removeClass("noteCollapsed");this.staticTextHeight>this.COLLAPSE_HEIGHT?this._stayUncollapsed?(this.$showMoreButton.hide(),this.$showLessButton.show()):(this.$staticNoteContents.addClass("noteCollapsed"),this.$showMoreButton.show(),this.$showLessButton.hide()):(this.$showMoreButton.hide(),this.$showLessButton.hide())},collapseAllContents:function(){this.collapseContents();for(var n=0;n<this._replies.length;++n)this._replies[n].collapseContents()},isEmpty:function(){var n=this.getAnnotation().getContents();return""===n||void 0===n},save:function(){this.showTextBox();this.trigger("save",this.$textarea.val())},cancel:function(n){this.setTextareaToNoteText();this.showTextBox();n&&this.trigger("cancel")},highlightText:function(n){if(n){var t=new RegExp("("+n+")","ig");this.$staticNoteContents.html(this.getText().replace(t,"<span class='highlight'>$1<\/span>"))}else this.updateText()},setEditable:function(n){(this._editable=n)?this.$editButton.show():(this._isEditing&&this.showTextBox(),this.$editButton.hide())},setDeletable:function(n){(this._deletable=n)?this.$deleteButton.show():this.$deleteButton.hide()},setReplyable:function(n){(this._replyable=n)||!this.$replyContainer||this.$replyContainer.hide()},_updateButtonStatus:function(n,t){""===n.val()?t.prop("disabled",!0):t.prop("disabled",!1)},_updateSaveButtonStatus:function(){this._updateButtonStatus(this.$textarea,this.$saveButton)},_setFlexible:function(n){n.flexible();var t=this;n.off("heightChanged").on("heightChanged",function(){t.trigger("update")})},initFlexibleTextarea:function(){this._setFlexible(this.$textarea)},remove:function(){this._parent&&this._parent.replyRemoved(this);this.$textarea.flexible("remove");this.getContainer().remove();this.off()},select:function(){},deselect:function(){},focusInput:function(n){this.$textarea.focus();n&&this.$textarea.select()},showEditBox:function(){this._isEditing=!0;this.$staticNoteContents.hide();this.$editButtonsContainer.hide();this.$collapseButtonsContainer.hide();this.$noteContents.show();this.initFlexibleTextarea();this.$textarea.trigger("updateHeight")},showTextBox:function(){this._stayUncollapsed=!0;this._isEditing=!1;this.$noteContents.hide();this.$staticNoteContents.show();this.$editButtonsContainer.show();this.$collapseButtonsContainer.show();r.trigger("textBoxReady",{editButtonsContainer:this.$editButtonsContainer})},switchToEditingMode:function(n,t){this.setTextareaToNoteText();this._updateSaveButtonStatus();this.showEditBox();t||this.focusInput(n)},_handleKeyboardSaveShortcut:function(n,t){n.on("keydown",function(i){if((i.metaKey||i.ctrlKey)&&13===i.which){var r=n.val();r&&t(r)}})},_createDeleteConfirmationElement:function(n,t){var r=this,i=$('<div class="noteDeleteShadow">'),e=$('<div class="deleteConfirmText">'),u,f;e.attr("data-i18n",n);i.append(e);t=t||function(){};u=$('<button type="button" class="roundedCornerButton" data-i18n="notesPanel.delete"><\/button>');u.on("click",function(){t();r.removeDeleteConfirmation();r.trigger("delete")});return f=$('<button type="button" class="roundedCornerButton" data-i18n="notesPanel.cancel"><\/button>'),f.on("click",function(){r.removeDeleteConfirmation()}),i.append(u),i.append(f),i.i18n(),i},showDeleteConfirmation:function(){var n=this._createDeleteConfirmationElement("notesPanel.deleteComment");this.getContainer().append(n)},removeDeleteConfirmation:function(){this.getContainer().find(".noteDeleteShadow").remove()},setTextareaToNoteText:function(){this.$textarea.val(this.getText());this.$textarea.trigger("updateHeight")},updateText:function(){var n=this.getText();n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.$staticNoteContents.html(Autolinker.link(n));this.updateStaticTextHeight()},updateStaticTextHeight:function(){this.staticTextHeight=this.$staticNoteContents[0].scrollHeight}};$.extend(f.prototype,window.utils.eventHandler);e=function(){var n,t;f.apply(this,arguments);this._topValue=null;this._height=null;this._replies=[];n=this;this.$rootElement=$('<div class="panelElement panelElementFont">');this.$rootElement.on("click",function(){n.showReplyBox();n.trigger("clicked");n.trigger("update")});this.$rootElement.append(this.getContainer());this.$replyContainer=$('<div class="replyContainer">').hide();this.$replyTextarea=$('<textarea class="panelElementFont replyTextarea" data-i18n="[placeholder]notesPanel.enterReply"><\/textarea>');this.$replyTextarea.on("update",function(){n._updateReplyButtonStatus()});this.$replyTextarea.on("focus",function(){n._updateReplyButtonStatus();n.$replyButtonsContainer.show();n.trigger("update")});this.$replyTextarea.on("blur",function(){""===n.$replyTextarea.val()&&(n.$replyButtonsContainer.hide(),n.trigger("update"))});this._handleKeyboardSaveShortcut(this.$replyTextarea,function(t){n.trigger("reply",t);n.$replyTextarea.focus()});this.$replyContainer.append(this.$replyTextarea);this.$replyButtonsContainer=$('<div class="replyButtonsContainer">').hide();this.$replyButton=$('<button type="button" class="roundedCornerButton" data-i18n="notesPanel.reply"><\/button>');this.$replyButton.on("click",function(){n.trigger("reply",n.$replyTextarea.val())});t=$('<button type="button" class="roundedCornerButton" data-i18n="notesPanel.cancel"><\/button>');t.on("click",function(){n._resetReplyBox();n.trigger("update")});this.$replyButtonsContainer.append(this.$replyButton);this.$replyButtonsContainer.append(t);this.$replyContainer.append(this.$replyButtonsContainer);this.$rootElement.append(this.$replyContainer);this.$rootElement.i18n()};e.prototype={getElement:function(){return this.$rootElement},getTop:function(){return this._topValue},setTop:function(n){this._topValue=n},updateTopPosition:function(){this.getElement().css("top",this.getTop())},getHeight:function(){return this._height},recalculateHeight:function(){this._height=this.getElement().outerHeight()},show:function(){this.getElement().show()},hide:function(){this.getElement().hide()},select:function(n){this.getElement().addClass("selectedNote");n&&this.isEmpty()&&this.switchToEditingMode(!1,!0)},deselect:function(n){this.getElement().removeClass("selectedNote");[this].concat(this._replies).forEach(function(t){t.isEditing()&&(""===t.$textarea.val()?t.cancel(n):t.save())})},isVisible:function(){return"none"!==this.getElement().css("display")},remove:function(){this._replies=null;f.prototype.remove.call(this);this.$replyTextarea.flexible("remove");this.getElement().remove()},replyRemoved:function(n){this._replies&&this._replies.remove(n)},_disableAnimations:function(){this.getElement().addClass("noTransition")},_enableAnimations:function(){this.getElement().removeClass("noTransition")},switchToEditingMode:function(){this.show();f.prototype.switchToEditingMode.apply(this,arguments)},startAddingReply:function(){this.show();this.showReplyBox();this.$replyTextarea.focus()},showDeleteConfirmation:function(){var n=this,t=this.isEmpty()?"notesPanel.deleteAnnotation":"notesPanel.deleteCommentThread",i=this._createDeleteConfirmationElement(t,function(){n._resetReplyBox();n.hideReplyBox()});this.getElement().append(i)},removeDeleteConfirmation:function(){this.getElement().children(".noteDeleteShadow").remove()},removeAllDeleteConfirmations:function(){this.getElement().find(".noteDeleteShadow").remove()},_updateReplyButtonStatus:function(){this._updateButtonStatus(this.$replyTextarea,this.$replyButton)},showReplyBox:function(){this._replyable&&(this.$replyContainer.show(),this._setFlexible(this.$replyTextarea),document.activeElement===this.$replyTextarea[0]&&this.$replyButtonsContainer.show())},hideReplyBox:function(){""===this.$replyTextarea.val()&&(this.$replyContainer.hide(),this.$replyButtonsContainer.hide())},_resetReplyBox:function(){this._clearReplyText();this.$replyButtonsContainer.hide()},_clearReplyText:function(){this.$replyTextarea.val("");this.$replyTextarea.trigger("updateHeight")},addReply:function(n,t){n.setParent(this);this._replies.push(n);t||this._resetReplyBox();n.getContainer().addClass("replyContainer");var i=this.getElement().children(".noteContainer.replyContainer").add(n.getContainer());i.sort(function(n,t){return $(n).data("annot").DateCreated-$(t).data("annot").DateCreated});this.$replyContainer.before(i)}};e.prototype=$.extend({},f.prototype,e.prototype);w=function(){this.$horizontalLine1=$("<div>").addClass("noteLine horizontal");this.$horizontalLine2=$("<div>").addClass("noteLine horizontal");this.$verticalLine=$("<div>").addClass("noteLine vertical");this.$elements=$([this.$horizontalLine1[0],this.$horizontalLine2[0],this.$verticalLine[0]])};w.prototype={getElements:function(){return this.$elements},hide:function(){this.$elements.removeClass("pointerTransition");this.$elements.css("opacity",0)},show:function(){this.$elements.addClass("pointerTransition");this.$elements.css("opacity",.5)},updatePosition:function(n,t,i){var u,f;Math.abs(i)<1?(this.$elements.hide(),this.$horizontalLine1.css({width:n,top:t.top,right:t.right}).show()):(this.$elements.show(),u=.75*n,this.$horizontalLine1.css({width:u,top:t.top,right:t.left}),this.$horizontalLine2.css({width:n-u,top:t.top+i,right:t.left+u}),f=parseInt(this.$horizontalLine2.css("border-top-width"),10),this.$verticalLine.css({height:Math.abs(i),top:t.top+i+f,right:t.left+u}));r.triggerHandler("noteUpdatePosition",{notePosition:t,horizontalLine1:this.$horizontalLine1})}};b=function(n,t){this.annotation=n;this.$element=$('<div class="annotLine">');this.$element.attr("data-i18n","[title]notesPanel.annotLineDesc");this.$element.data("i18n-options",{pageNumber:n.PageNumber,subject:n.Subject,author:n.Author});this.$element.i18n();this.$element.on("click",t)};b.prototype={getElement:function(){return this.$element},getAnnotation:function(){return this.annotation},hide:function(){this.getElement().hide()},show:function(){this.getElement().show()},update:function(n){this.getElement().css("top",n)},remove:function(){this.getElement().remove()}};var c={showListView:function(){return!1},getTop:function(n,t,i,r){return n.getAnnotationPosition(t.getAnnotation(),i).y-r},sort:function(n){return n.sort(function(n,t){var i=n.getTop()-t.getTop();return 0===i&&(i=n.getAnnotation().Id<t.getAnnotation().Id?-1:1),i})},filter:function(n){return n}},v={showListView:function(){return!0},getTop:function(){return 0},_getDateCreated:function(n){for(var r,t=n.getAnnotation().DateCreated,i=0;i<n._replies.length;++i)r=n._replies[i].getAnnotation().DateCreated,t<r&&(t=r);return t},sort:function(n){return n.sort(function(n,t){return v._getDateCreated(t)-v._getDateCreated(n)})},filter:function(n){return n}},u={_searchTerm:"",showListView:function(){return!0},getTop:function(){return nt},sort:function(n){return n},setSearchTerm:function(n){u._searchTerm=n.toLowerCase()},_searchAnnot:function(n){var t=-1!==n.getText().toLowerCase().indexOf(u._searchTerm);return t?(n.highlightText(u._searchTerm),n.forceUncollapsed()):(n.highlightText(),n.unforceUncollapsed(),n.collapseContents()),t},filter:function(n,t){return n.filter(function(n){for(var i=u._searchAnnot(n),r=0;r<n._replies.length;++r)i=u._searchAnnot(n._replies[r])||i;return i||t(n),i})}},k=function(t,i,r,u){this.readerControl=t;this.docViewer=t.docViewer;this.setDefaults();this.noteMargin=10;this.viewerOffset=u;this.$dummyScrollElement=$("<div>").css({position:"absolute",width:1,height:1});this.$notesPanelWrapper=r;this.$notesPanel=r.find("#notesPanel");this.$notesPanel.append(this.$dummyScrollElement);this.$notesBar=r.find("#notesBar");this.annotLinesPadding=18;this.$annotLines=r.find("#annotLines");this.$scrollView=i;this.$docpad=i.find("#docpad");var f=this;f.notesScrollingCount=0;f.scrollViewScrollingCount=0;this.$scrollView.on("scroll",function(){f.notesScrollingCount?--f.notesScrollingCount:(f.alignViews(),f.focusedAnnotation&&f.updateFocusConnector())});this.$notesPanel.on("scroll",function(){0<f.scrollViewScrollingCount?--f.scrollViewScrollingCount:(f.sortStrategy.showListView()||f.$scrollView.scrollTop()!==f.$notesPanel.scrollTop()&&(++f.notesScrollingCount,f.$scrollView.scrollTop(f.$notesPanel.scrollTop())),f.focusedAnnotation&&f.updateFocusConnector())});this.docViewer.on("displayModeUpdated",function(){if(null!==f.docViewer.getDocument()){var n=f.displayModeManager.getDisplayMode();p(function(){n.isContinuous()?(f._showAllNotes(),f.forAllLines(function(n){n.show()})):f.showAnnotLinesVisiblePages();f.updatePositionsWithoutAnimations();f.updateAllAnnotLines()})}});this.docViewer.on("documentUnloaded",function(){n&&(n.dispose(),n.setDefaults())});this.focusConnector=new w;this.$scrollView.append(this.focusConnector.getElements());this.hideFocusConnector()};k.prototype={setDefaults:function(){this.annotManager=this.docViewer.getAnnotationManager();this.displayModeManager=this.docViewer.getDisplayModeManager();this.notes={};this.annotLines={};this.waitingForRootAnnot={};this.focusedAnnotation=null;this.sortStrategy=c},setSortStrategy:function(n){this.sortStrategy=n;this.$notesPanel.scrollTop(0);this.trigger("sortStrategyChanged");this.updateAllPositions()},getSortStrategy:function(){return this.sortStrategy},_createNote:function(n,i){var s,u,h,o=this,v=this.annotManager.canModifyContents(n),y=this.annotManager.canModify(n),p=!this.annotManager.getReadOnly(),c,l,a,w;if(n.isReply()){if(u=new f(n,v,p,y),i||u.forceUncollapsed(),c=this.annotManager.getRootAnnotation(n),null===c)this._setupWaitingReplies(u);else if(this._getOrCreateNote(c,i).addReply(u,i),l=this._getNote(c),l&&(h=this.waitingForRootAnnot[n.Id]))for(s=0;s<h.length;++s)l.addReply(h[s],i)}else{if(u=new e(n,v,p,y),h=this.waitingForRootAnnot[n.Id]){for(s=0;s<h.length;++s)u.addReply(h[s],i);delete this.waitingForRootAnnot[n.Id]}this.appendNote(u);u.on("clicked",function(){o.annotManager.isAnnotationSelected(n)||o._jumpToAndSelectAnnotation(n);o.alignViews();o.showFocusConnector();o.updateFocusConnector()});u.on("reply",function(n,t){o.annotManager.createAnnotationReply(u.getAnnotation(),t)})}return(this.notes[n.Id]=u).on("update cancel save",function(){o.updateAllPositions()}),u.on("save",function(t,i){o.annotManager.setNoteContents(n,i);n instanceof Annotations.FreeTextAnnotation&&o.annotManager.drawAnnotationsFromList([n]);r.trigger("noteOnSave")}),u.on("delete",function(){n.isReply()?o.annotManager.deleteAnnotation(n):(o._deleteAnnotationReplies(n),u.isEmpty()?o.annotManager.deleteAnnotation(n):u.trigger("save",""))}),!i&&u instanceof e&&(n instanceof Annotations.StickyAnnotation&&setTimeout(function(){o.annotManager.selectAnnotation(n);o.editNote(n,!0)},0),r.trigger("createNoteReady",{context:this,annotation:n})),a=u.getContainer(),w=t.docViewer.getAnnotationManager().getDisplayAuthor(n),$(a).find(".noteAuthor").text(w),t.fireEvent("noteCreated",[u.getAnnotation(),a]),u},_setupWaitingReplies:function(n){var t=n.getAnnotation(),i,u,r;if(this.waitingForRootAnnot[t.InReplyTo]||(this.waitingForRootAnnot[t.InReplyTo]=[]),this.waitingForRootAnnot[t.InReplyTo].push(n),i=this.waitingForRootAnnot[t.Id],i){for(u=this.waitingForRootAnnot[t.InReplyTo],r=0;r<i.length;++r)u.push(i[r]);delete this.waitingForRootAnnot[t.Id]}},_forAllNotes:function(n,t,i){var r;for(var u in this.notes)(r=this.notes[u])instanceof e&&((void 0===i||-1!==i.indexOf(r.getAnnotation().PageNumber-1))&&(!t||r.getAnnotation().isVisible())?n.call(this,r):t.call(this,r))},_getNote:function(n){return this.notes[n.Id]},_getOrCreateNote:function(n,t){var i=this._getNote(n);return i||this._createNote(n,t)},appendNote:function(n){this.$notesPanel.append(n.getElement())},updateNotePermission:function(n){var t=this._getNote(n);if(t){var i=this.annotManager.canModifyContents(n),r=this.annotManager.canModify(n),u=!this.annotManager.getReadOnly();t.setEditable(i);t.setDeletable(r);t.setReplyable(u)}},updateAllNotePermissions:function(){var n=this;this.annotManager.getAnnotationsList().forEach(function(t){t.Listable&&n.updateNotePermission(t)});this.updateAllPositions()},_jumpToAndSelectAnnotation:function(n){this.annotManager.deselectAllAnnotations();this.annotManager.jumpToAnnotation(n);this.annotManager.selectAnnotation(n)},getAnnotationPosition:function(n,t){var u=n.PageNumber-1,i={x:n.X+n.Width,y:n.Y};return r.triggerHandler("getAnnotationPosition",{annotationCoordinates:i}),t.pageToWindow(new Annotations.Point(i.x,i.y),u)},updateOrCreateLine:function(n,i,r){var u,f,e;n.isReply()||(u=this.getLine(n),u||(f=this,u=new b(n,function(){f._jumpToAndSelectAnnotation(n)}),this.$annotLines.append(u.getElement()),this.annotLines[n.Id]=u,t.fireEvent("annotationLineCreated",[n,u.getElement()])),e=this.getAnnotationPosition(n,this.displayModeManager.getDisplayMode()).y/i*(r-2*this.annotLinesPadding)+this.annotLinesPadding,u.update(e))},getLine:function(n){return this.annotLines[n.Id]},removeLine:function(n){var t=this.getLine(n);t&&(t.remove(),delete this.annotLines[n.Id])},forAllLines:function(n,t,i){var u,r;for(u in this.annotLines)r=this.annotLines[u],void 0===i||-1!==i.indexOf(r.getAnnotation().PageNumber-1)?!t||r.getAnnotation().isVisible()?n.call(this,r):t.call(this,r):t.call(this,r)},updateAllAnnotLines:function(){var i=this.$scrollView[0].scrollHeight,r=this.$notesBar.height(),n,t;for(n in this.annotLines)t=this.annotLines[n],this.updateOrCreateLine(t.getAnnotation(),i,r)},showAnnotLinesVisiblePages:function(){var n=this.displayModeManager.getDisplayMode().getVisiblePages();this.forAllLines(function(n){n.show()},function(n){n.hide()},n)},hideAllAnnotLines:function(){this.$annotLines.hide()},showAllAnnotLines:function(){this.$annotLines.show()},updateNotes:function(n,t){for(var i,u=this.$scrollView[0].scrollHeight,f=this.$notesBar.height(),r=0;r<n.length;++r)(i=n[r]).Listable&&(this._getOrCreateNote(i,t).updateText(),this.updateOrCreateLine(i,u,f));this.updateAllPositions()},removeNotes:function(n,t){for(var i,u,r=0;r<n.length;++r)i=n[r],t||this._deleteAnnotationReplies(i),(u=this._getNote(i))&&(u.remove(),delete this.notes[i.Id]),this.removeLine(i);this.updateAllPositions()},_deleteAnnotationReplies:function(n){var t=[];for(t.push(n);0<t.length;){for(var i=t.pop(),u=i.getReplies(),r=0;r<u.length;++r)t.push(u[r]);i!==n&&this.annotManager.deleteAnnotation(i,!1,!0)}},startAddingReply:function(i){t.showNotesPanel(!0);var r=n._getNote(i);r instanceof e&&(this._checkShouldSwitchSortMode(r),r.startAddingReply())},selectNote:function(n){var t=this._getNote(n);t&&t.select(this.annotManager.canModifyContents(n))},deselectNote:function(n){var t=this._getNote(n);t&&t.deselect(!0)},deselectAllNotes:function(){this._forAllNotes(function(n){n.deselect(!1)})},editNote:function(n,t){if(n.Listable&&(this.readerControl.showNotesPanel(!0),!this.annotManager.getReadOnly())){var i=this._getOrCreateNote(n);this.annotManager.canModifyContents(n)?(this._checkShouldSwitchSortMode(i),i.isEditing()?i.focusInput():i.switchToEditingMode(t)):i.startAddingReply();this.updateAllPositions()}},_checkShouldSwitchSortMode:function(n){this.getSortStrategy()!==u||n.isVisible()||this.setSortStrategy(c)},unhighlightAllNotes:function(){for(var n in this.notes)this.notes[n].updateText()},_showAllNotes:function(){this._forAllNotes(function(n){n.getElement().removeClass("noteHidden")})},_getSortedNotes:function(n){function u(n){n.getElement().addClass("noteHidden")}var r,t=[],e=this.viewerOffset,i=this.displayModeManager.getDisplayMode(),f;if(i.isContinuous()||(r=i.getVisiblePages()),this._showAllNotes(),this._forAllNotes(function(n){if(n.isVisible()){var r=this.sortStrategy.getTop(this,n,i,e);n.setTop(r);n.updateTopPosition();t.push(n)}},u,r),t=this.sortStrategy.filter(t,u),n)for(f in this.notes)this.notes[f].updateStaticTextHeight();return t.forEach(function(n){n.collapseAllContents()}),t.forEach(function(n){n.recalculateHeight()}),this.sortStrategy.sort(t)},updateBottomMargin:function(n){var t,i=this._getLastPageContainer().parent(),s=parseFloat(i.css("margin-bottom"))||this.docViewer.getMargin(),r=!1;if(n&&this._notesPanelVisible()&&0<n.length){var u=n[n.length-1],f=u.getTop()+u.getHeight(),e=parseFloat(this.$docpad.css("margin-bottom")),o=this.$scrollView[0].scrollHeight-Math.max(0,s-e);o<f&&(t=e+f-o,r=!0)}r&&!this.sortStrategy.showListView()||(t=this.docViewer.getMargin());i.css("margin-bottom",t);t!==this.lastBottomMargin&&(this.lastBottomMargin=t,this.updateAllAnnotLines())},updateAllPositions:function(t){var i,r,u;if(this._notesPanelVisible()){if(i=this._getSortedNotes(t),r=this.focusedAnnotation?this._getNote(this.focusedAnnotation):null,null!=r&&r.isVisible())if(this.sortStrategy.showListView()){this._adjustPositions(i);this.hideFocusConnector();var e=this.$notesPanel.scrollTop(),o=this.$notesPanel.height(),f=r.getTop();(f<e||e+o<f)&&this.$notesPanel.scrollTop(f)}else u=i.indexOf(r),this._adjustPositions(i.slice(0,u)),this._adjustPositionsReverse(i.slice(0,u+1)),this._adjustPositions(i.slice(u));else this._adjustPositions(i),this.hideFocusConnector();this.updateBottomMargin(i);this.sortStrategy.showListView()?this.$dummyScrollElement.css("top",0):this.$dummyScrollElement.css("top",this.$scrollView[0].scrollHeight);n.alignViews();r&&r.isVisible()&&this._notesPanelVisible()&&(this.updateFocusConnector(),this.showFocusConnector())}},_adjustPositionsReverse:function(n){for(var t,r,i=n.length-1;0<=i;--i){if(t=n[i],i!==n.length-1){if(!((r=n[i+1].getTop()-t.getHeight()-this.noteMargin)<t.getTop()))break;t.setTop(r)}t.updateTopPosition()}},_adjustPositions:function(n){for(var i,r,u,t=0;t<n.length;++t)i=n[t],0!==t&&(u=(r=n[t-1]).getTop()+r.getHeight()+this.noteMargin)>i.getTop()&&i.setTop(u),i.updateTopPosition()},_notesPanelVisible:function(){return!this.$notesPanelWrapper.hasClass("hidden")},showFocusConnector:function(){this.sortStrategy.showListView()||this.focusConnector.show()},hideFocusConnector:function(){this.focusConnector.hide()},updateFocusConnector:function(){var u=this.displayModeManager.getDisplayMode(),n;if(this.focusedAnnotation&&(n=this._getNote(this.focusedAnnotation),n)){var t=this.getAnnotationPosition(n.getAnnotation(),u),f=parseFloat(this.$scrollView.position().left),e=this.$scrollView.scrollLeft(),i=n.getTop()+this.viewerOffset+5,r=parseFloat(n.getElement().css("margin-left"))+this.$notesBar.width(),o=t.y-(i-5),s=this.$scrollView.width()+e+f+r-t.x-5,h=i-this.$notesPanel.scrollTop(),c=this.$notesPanelWrapper.width()-r;this.focusConnector.updatePosition(s,{top:h,right:c},o)}},focusAnnotation:function(n){if(this.focusedAnnotation&&this.unFocusAnnotation(),(this.focusedAnnotation=n).Listable){var t=this._getNote(n);t&&t.showReplyBox()}r.trigger("annotationOnFocus",{annotation:n})},unFocusAnnotation:function(){if(this.focusedAnnotation&&this.focusedAnnotation.Listable){var n=this._getNote(this.focusedAnnotation);n&&(n.removeAllDeleteConfirmations(),n.hideReplyBox())}this.focusedAnnotation=null;this.hideFocusConnector()},updatePositionsWithoutAnimations:function(){for(var n in this._forAllNotes(function(n){n._disableAnimations()}),this.updateAllPositions(),this.notes)if(this.notes[n].getElement){this.notes[n].getElement()[0].offsetHeight;break}this._forAllNotes(function(n){n._enableAnimations()})},_getLastPageContainer:function(){var n;return n=this.displayModeManager.getDisplayMode().isContinuous()?this.docViewer.getPageCount()-1:this.docViewer.getCurrentPage()-1,this.$scrollView.find("#pageContainer"+n)},getPanelAdjustment:function(){return this.sortStrategy.showListView()?0:this.$notesPanel.width()-this.$notesPanel[0].scrollWidth},alignViews:function(){!this.sortStrategy.showListView()&&t.notesPanelVisible()&&this.$scrollView.scrollTop()!==this.$notesPanel.scrollTop()&&(++this.scrollViewScrollingCount,this.$notesPanel.scrollTop(this.$scrollView.scrollTop()))},dispose:function(){for(var n in this.notes)this.notes[n].remove();this.forAllLines(function(n){n.remove()})}};$.extend(k.prototype,window.utils.eventHandler);var nt,s=$(document),i=$("#notesPanelWrapper"),l=i.find("#notesPanel"),tt=i.find("#notesBar"),d=tt.find(".toggleNotesButton"),ut=$("#DocumentViewer");d.on("click",function(){t.showNotesPanel(!t.notesPanelVisible())});g=200;y=!1;i.resizable({handles:"w",resize:function(){var r,u;(i.css("left",""),y)?i.width(300):(t.shiftSidePanel(!1),n.hideFocusConnector(),r=i.width(),r<g?(t.showNotesPanel(!1),i.width(300),y=!0):(u=n.getPanelAdjustment(),l.width(r+u)))},stop:function(){h.scrollViewUpdated();a();y=!1}});i.resizable("disable");s.on("viewerLoaded",function(){var i,s,e,f;t=window.readerControl;h=t.docViewer;it=h.getDisplayModeManager();h.on("fitModeUpdated rotationUpdated",function(){p(function(){n&&n.updateAllPositions()})});h.on("pageNumberUpdated",function(){it.getDisplayMode().isContinuous()||p(function(){n.updatePositionsWithoutAnimations();n.showAnnotLinesVisiblePages();n.updateAllAnnotLines()})});$("#noteTypeSelect").on("change",function(){switch($(this).val()){case"Document":n.setSortStrategy(c);break;case"Time":n.setSortStrategy(v)}});i=$("#noteOptions");$("#noteOptionsButton").on("click",function(){i.fadeIn("fast")});s=i.find("#commentSearchBox");s.on("keyup",_.debounce(function(){var t=s.val().toLowerCase();""!==t?(u.setSearchTerm(t),n.setSortStrategy(u)):n.setSortStrategy(c)},300));e=!1;(f=i.find("#toggleAnnotationsButton")).on("change",function(){var n=t.docViewer.getAnnotationManager();e?(n.showAnnotations(n.getAnnotationsList()),f.attr("data-i18n","annotations.buttonHide").i18n()):(n.hideAnnotations(n.getAnnotationsList()),f.attr("data-i18n","annotations.buttonShow").i18n());e=!e});i.find("#saveAnnotationsButton").on("click",function(){n.deselectAllNotes();t.saveAnnotations()});t.readOnly&&i.find("#saveAnnotationsButton").hide();i.find("#noteOptionsCloseButton").on("click",function(){n.getSortStrategy()===u&&n.setSortStrategy(c);i.fadeOut("fast")});o=h.getAnnotationManager();f=$("#toggleAnnotationsButton");o.on("annotationToggled",function(t,i){i?(f.prop("checked",!1),n.hideFocusConnector()):f.prop("checked",!0)});o.on("annotationHidden",function(){n.updateAllPositions();n.forAllLines(function(n){n.show()},function(n){n.hide()})});o.on("annotationChanged",function(t,i,r){"add"===r||"modify"===r?n.updateNotes(i,t.imported):"delete"===r&&n.removeNotes(i,t.imported)});o.on("annotationDoubleClicked",function(t,i){i instanceof Annotations.FreeTextAnnotation||!i.Listable||n.editNote(i);r.trigger("annotationDoubleClicked",{noteManager:n,annotation:i})});o.on("annotationSelected",function(t,i,r){var u,f,e;if(null===i&&"deselected"===r)n.deselectAllNotes();else for(u=0;u<i.length;++u)f=i[u],"selected"===r?n.selectNote(f):n.deselectNote(f);e=o.getSelectedAnnotations();1===e.length?n.focusAnnotation(e[0]):n.unFocusAnnotation();n.updateAllPositions()})});s.on("documentLoaded",function(){if(a(),n)n.dispose(),n.setDefaults();else{var r=$("#control").height()+h.getMargin();n=new k(t,ut,i,r);(window.noteManager=n).on("sortStrategyChanged",function(){a();n.getSortStrategy()===u?$("#noteTypeSelect").val("Search"):($("#commentSearchBox").val(""),n.unhighlightAllNotes(),n.getSortStrategy()===v?$("#noteTypeSelect").val("Time"):n.getSortStrategy()===c&&$("#noteTypeSelect").val("Document"))});s.on("notesPanelBecomingVisible",function(){rt()});s.on("notesPanelVisibilityChanged",function(t,r){!function(t){t?(n.showAllAnnotLines(),i.resizable("enable"),d.removeClass("chevron-left").addClass("chevron-right")):(n.hideAllAnnotLines(),i.resizable("disable"),d.removeClass("chevron-right").addClass("chevron-left"))}(r);r?(n.alignViews(),a(),nt=$("#noteOptions").outerHeight()):(n.updateBottomMargin(),n.hideFocusConnector())});s.on("sidePanelVisibilityChanged",function(){n.updateAllPositions()})}});s.on("startAddingReply",function(t,i){n.startAddingReply(i)});s.on("updateAnnotationPermission",function(t,i){n&&(i?n.updateNotePermission(i):n.updateAllNotePermissions())});$(window).on("resize",a);l.on("click",function(n){n.target===this&&o.deselectAllAnnotations()})}}),function(n){"use strict";function i(){console.warn("Function not implemented by this viewer")}var t=n.PortableEngine.WebViewer.ToolMode;n.BaseReaderControl=function(i){var r,f,o,u,e;if(this.customConfig=JSON.parse(n.ControlUtils.getCustomData())||{},this.printOptions={highQuality:!0,highQualityLevel:100,grayscale:!1,includeComments:!1,skipDialog:!1,pageRange:""},r=this,this.enableAnnotations=this.checkPermission(this.PermissionTypes.ViewAnnotations),this.enableOffline=i.enableOffline,this.docId=i.docId,this.hasBeenClosed=!1,this.isDefaultServerUrl=!1,this.serverUrl=i.serverUrl,!(_.isUndefined(this.serverUrl)||_.isNull(this.serverUrl))||_.isUndefined(ReaderControl.config)||_.isUndefined(ReaderControl.config.serverURL)||(this.serverUrl=ReaderControl.config.serverURL,this.isDefaultServerUrl="annotationHandler.php"===this.serverUrl),this.serverUrlHeaders=i.serverUrlHeaders,this.userPreferences=n.ControlUtils.userPreferences.getViewerPreferences(),this.currUser="",!_.isUndefined(ReaderControl.config)&&!_.isUndefined(ReaderControl.config.defaultUser)){if(this.currUser=ReaderControl.config.defaultUser,!_.isUndefined(ReaderControl.config.customStyle))if($.isArray(ReaderControl.config.customStyle))for(f=0;f<ReaderControl.config.customStyle.length;f++)$("<link/>").appendTo("head").attr({rel:"stylesheet",type:"text/css",href:ReaderControl.config.customStyle[f]});else $("<link>").appendTo("head").attr({rel:"stylesheet",type:"text/css",href:ReaderControl.config.customStyle});_.isUndefined(ReaderControl.config.customScript)||$.getScript(ReaderControl.config.customScript,function(){})}this.currUser=i.user||this.currUser;this.isAdmin=i.isAdmin;this.readOnly=i.readOnly;this.docViewer=new n.CoreControls.DocumentViewer;this.docViewer.setOptions({enableAnnotations:this.enableAnnotations});o=this.docViewer.clearSearchResults;this.docViewer.clearSearchResults=function(){r.docViewer.getDisplayModeManager().setDisplayMode(r.docViewer.getDisplayModeManager().getDisplayMode());o.apply(r.docViewer)};this.checkPermission(this.PermissionTypes.FillForms)||this.docViewer.on("pageComplete",function(n,t){$("#pageWidgetContainer"+t+" div :input").prop("disabled",!0)});void 0!==i.enableRedaction&&this.docViewer.getAnnotationManager().enableRedaction(!!i.enableRedaction);this.pageOrientations={Auto:0,Portrait:1,Landscape:2};this.toolModeMap=this.docViewer.getToolModeMap();u=n.ControlUtils.userPreferences;(u.registerTool(this.toolModeMap[t.AnnotationCreateEllipse],"ellipse",Annotations.EllipseAnnotation),u.registerTool(this.toolModeMap[t.AnnotationCreateFreeHand],"freehand",Annotations.FreeHandAnnotation),u.registerTool(this.toolModeMap[t.AnnotationCreateLine],"line",Annotations.LineAnnotation,function(n){return"None"===n.getEndStyle()&&"None"===n.getStartStyle()}),u.registerTool(this.toolModeMap[t.AnnotationCreateArrow],"arrow",Annotations.LineAnnotation,function(n){return"None"!==n.getEndStyle()||"None"!==n.getStartStyle()}),u.registerTool(this.toolModeMap[t.AnnotationCreateRectangle],"rectangle",Annotations.RectangleAnnotation),u.registerTool(this.toolModeMap[t.AnnotationCreateRedaction],"redact",Annotations.RedactionAnnotation),u.registerTool(this.toolModeMap[t.AnnotationCreateSticky],"sticky",Annotations.StickyAnnotation),u.registerTool(this.toolModeMap[t.AnnotationCreatePolyline],"polyline",Annotations.PolylineAnnotation),u.registerTool(this.toolModeMap[t.AnnotationCreatePolygon],"polygon",Annotations.PolygonAnnotation,function(n){return"cloudy"!==n.Style||"PolygonCloud"!==n.Intent}),u.registerTool(this.toolModeMap[t.AnnotationCreatePolygonCloud],"polygoncloud",Annotations.PolygonAnnotation,function(n){return"cloudy"===n.Style&&"PolygonCloud"===n.Intent}),u.registerTool(this.toolModeMap[t.AnnotationCreateCallout],"callout",Annotations.FreeTextAnnotation,function(n){return n.getIntent()===Annotations.FreeTextAnnotation.Intent.FreeTextCallout}),u.registerTool(this.toolModeMap[t.AnnotationCreateFreeText],"freetext",Annotations.FreeTextAnnotation,function(n){return n.getIntent()!==Annotations.FreeTextAnnotation.Intent.FreeTextCallout}),u.registerTool(this.toolModeMap[t.AnnotationCreateTextHighlight],"highlight",Annotations.TextHighlightAnnotation),u.registerTool(this.toolModeMap[t.AnnotationCreateTextStrikeout],"strikeout",Annotations.TextStrikeoutAnnotation),u.registerTool(this.toolModeMap[t.AnnotationCreateTextUnderline],"underline",Annotations.TextUnderlineAnnotation),u.registerTool(this.toolModeMap[t.AnnotationCreateTextSquiggly],"squiggly",Annotations.TextSquigglyAnnotation),u.registerTool(this.toolModeMap[t.AnnotationCreateStamp],"stamp",Annotations.StampAnnotation),this.defaultToolMode=this.toolModeMap[t.AnnotationEdit],this.toolModeMap[t.AnnotationCreateSignature].on("annotationAdded",function(){r.setToolMode(t.AnnotationEdit)}),Tools.SignatureCreateTool.setTextHandler(function(){return i18n.t("signatureDialog.signHere")}),Annotations.Utilities.setAnnotationSubjectHandler(function(n){return i18n.t("annotations.types."+n)}),$(window).on("documentPrint",function(){r.printHandler()}),this.docViewer.on("documentLoaded",_(this.onDocumentLoaded).bind(this)),this.docViewer.on("notify",n.ControlUtils.getNotifyFunction),this.enableAnnotations&&null!==r.serverUrl)&&(this.loadedFromServer=!1,this.serverFailed=!1,e=function(n,t){if(r.serverFailed)t(n);else if(r.loadedFromServer)r.loadedFromServer&&t("");else{var i={};null!==r.docId&&0<r.docId.length&&(i={did:r.docId});$.ajax({url:r.serverUrl,cache:!1,data:i,headers:r.serverUrlHeaders,success:function(i){r.isDefaultServerUrl&&console.warn("Annotation data was requested from the default PHP server URL.\nBy default this saves the annotation data in a file on your server which you may not want.\nIf you actually do want to use the default server URL then you can ignore this message.\nPlease see this link for more information on configuring annotation loading https://www.gleamtech.com/documentation/web/guides/annotations/saving-loading-annotations");_.isNull(i)||_.isUndefined(i)?(console.warn("No annotation data was returned from your server URL.\nIf you expect that annotation data should be loaded from your server check to see that it is returning the proper XFDF data."),r.serverFailed=!0,t(n)):(r.loadedFromServer=!0,t(i))},error:function(i,u,f){console.warn("Error "+i.status+" "+f+": Annotations could not be loaded from the server.");r.isDefaultServerUrl?console.warn("WebViewer is currently configured with the default server URL which only runs on a PHP server.\nYour server may not support PHP which is why annotations were not able to be loaded.\nPlease see this link for more information on configuring annotation loading https://www.gleamtech.com/documentation/web/guides/annotations/saving-loading-annotations"):console.warn("To load annotations WebViewer will make a GET request to your server URL.\nCheck to make sure that your server is handling the request properly and returning the XFDF data with a 200 response.\nPlease see this link for more information on configuring annotation loading https://www.gleamtech.com/documentation/web/guides/annotations/saving-loading-annotations");r.serverFailed=!0;t(n)},dataType:"xml"})}},this.docViewer.setInternalAnnotationsTransform(e),this.docViewer.setPagesUpdatedInternalAnnotationsTransform(function(n,t,i){e(n,i)}),this.docViewer.on("documentLoaded",function(){r.usingOfficeWorker&&e(null,function(n){r.docViewer.getAnnotationManager().importAnnotationsAsync(n)})}))};n.BaseReaderControl.prototype=$.extend(new n.WebViewerInterface,{PRINT_QUALITY:1,onDocumentLoaded:function(){var n,t;this.hasBeenClosed?this.closeDocument():(this.loadedFromServer=!1,this.serverFailed=!1,n=this.docViewer.getAnnotationManager(),(n.setCurrentUser(this.currUser),n.setIsAdminUser(this.isAdmin),n.setReadOnly(this.readOnly),this.enableOffline&&(Modernizr.indexeddb||Modernizr.websqldatabase))&&(this.startOffline?this.offlineReady():(t=this,this.docViewer.getDocument().initOfflineDB(function(){t.offlineReady()}))))},loadDocument:function(t,i){var o,h,r,u,l,s,c,e,a,f,v;i&&(o=i.streaming,h="range"===i.streaming,l=i.pdfServer,o=o||h||l,r=i.decrypt,u=i.decryptOptions);s=n.ControlUtils.getQueryStringMap(!n.utils.windowsApp);c=s.getString("p");this.startOffline=s.getBoolean("startOffline",!1);a=s.getBoolean("azureWorkaround",!1);try{f=n.CoreControls.PartRetrievers.CacheHinting;e=this.startOffline?new CoreControls.PartRetrievers.WebDBPartRetriever(null,r,u):n.utils.windowsApp?new n.CoreControls.PartRetrievers.WinRTPartRetriever(t,f.CACHE,r,u):t&&0===t.indexOf("iosrange://")?new n.CoreControls.PartRetrievers.IOSPartRetriever(t,f.CACHE,r,u):t&&0===t.indexOf("content://")?new n.CoreControls.PartRetrievers.AndroidContentPartRetriever(t,f.CACHE,r,u):null!==c?new n.CoreControls.PartRetrievers.ExternalHttpPartRetriever(t,c):!0===h?new n.CoreControls.PartRetrievers.RangeStreamingPartRetriever(t,f.CACHE,r,u):!0===o?new n.CoreControls.PartRetrievers.StreamingPartRetriever(t,f.CACHE,r,u):a?new n.CoreControls.PartRetrievers.AzurePartRetriever(t,f.CACHE,r,u):new n.CoreControls.PartRetrievers.HttpPartRetriever(t,f.CACHE,r,u)}catch(t){console.error(t)}v=this;i&&(i.customHeaders?e.setCustomHeaders(i.customHeaders):this.customConfig.headers&&e.setCustomHeaders(this.customConfig.headers),i.withCredentials&&e.setWithCredentials(i.withCredentials));e.setErrorCallback(function(n){v.fireEvent("partError",["xpzLoad",n,i18n.t("error.load")])});this.hasBeenClosed=!1;this.docViewer.loadAsync(e,this.docId)},offlineReady:function(){i()},saveAnnotations:function(){i()},fireEvent:function(n,t){$(document).trigger(n,t)},exportAnnotations:function(n){var t,i,r,u;null!==this.serverUrl?(t=this,n.start(),i="?",-1<this.serverUrl.indexOf("?")&&(i="&"),r=i+"did="+this.docId,null===this.docId&&(r=""),u=this.docViewer.getAnnotationManager().exportAnnotations(),$.ajax({type:"POST",url:this.serverUrl+r,headers:this.serverUrlHeaders,data:{data:u},success:function(){t.isDefaultServerUrl&&console.warn("Annotations were saved successfully using the default PHP annotation handler which saves the annotation data on your server's file system.\nPlease see this link for more information on configuring annotation saving https://www.gleamtech.com/documentation/web/guides/annotations/saving-loading-annotations");n.success()},error:function(i,r,u){console.warn("Error "+i.status+" "+u+": Annotations were not able to be saved to the server.");t.isDefaultServerUrl?console.warn("WebViewer is currently configured to use the default annotation handler which requires a PHP server.\nIf your server does not support PHP then you will need to implement an annotation handler using your server language.\nPlease see this link for more information on configuring annotation saving https://www.gleamtech.com/documentation/web/guides/annotations/saving-loading-annotations"):console.warn("When saving annotations your server URL needs to handle a POST request which has the annotation data inside of it.\nPlease see this link for more information on configuring annotation saving https://www.gleamtech.com/documentation/web/guides/annotations/saving-loading-annotations");n.error()},complete:n.complete})):console.warn("No server URL was specified so annotations were not able to be saved.\nPlease see this link for more information on configuring annotation saving https://www.gleamtech.com/documentation/web/guides/annotations/saving-loading-annotations")},toggleFullScreen:function(){if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();else{var n=document.documentElement;n.requestFullscreen?n.requestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullScreen&&(n.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT),setTimeout(function(){document.webkitCurrentFullScreenElement||n.webkitRequestFullScreen()},200))}},copyButtonHandler:function(){var n,t;if(window.clipboardData)n=$("#clipboard")[0].value,window.clipboardData.setData("Text",n),this.fireEvent("textCopied",[n]);else{t=$("#clipboard")[0];t.select();t.setSelectionRange(0,99999);try{document.execCommand("copy")}catch(n){console.warn("copy is not supported by browser");alert("error")}}},getPagesToPrint:function(n){var e=this.getPageCount(),h=(n+"").replace(/\s+/g,""),i=[],r,t,o,c,s,u,f;if(0===h.length){for(r=1;r<=e;r++)i.push(r);return i}for(s=h.split(","),u=0;u<s.length;u++)if(1===(t=s[u].split("-")).length)i.push(parseInt(t[0],10));else if(2===t.length){if(o=parseInt(t[0],10),(c=""===t[1]?e:parseInt(t[1],10))<o)continue;for(f=o;f<=c;f++)i.push(f)}return i.filter(function(n,t,i){return i.indexOf(n)===t&&0<n&&n<=e}).sort(function(n,t){return n-t})},prepareDocument:function(n,t,i,r,u){var f=this,o=i?$('<div style="height: 100%; display: block"><\/div>'):$("#print-display"),e;CoreControls.SetCanvasMode(CoreControls.CanvasMode.PageCanvas);o.empty();this.PRINT_QUALITY=this.printOptions.highQuality?1+this.printOptions.highQualityLevel/100:1;window.utils.setCanvasMultiplier(this.PRINT_QUALITY||1);e=0;f.fireEvent("printProgressChanged",[0,n.length]),function s(){var c=n[e],l=f.docViewer.getDocument(),a=f.printFactor,h=f.getPrintPageData(l,c,t);l.loadCanvasAsync(c-1,a,h.printRotation,function(t){var l=t.getContext("2d");switch(h.documentRotation){case 1:l.translate(h.width,0);l.rotate(Math.PI/2);break;case 2:l.translate(h.width,h.height);l.rotate(Math.PI/1);break;case 3:l.translate(0,h.height);l.rotate(270*Math.PI/180)}f.drawAnnotations(t,c,h).then(function(){var a=f.getPrintableAnnotations(r,c),h;(f.drawAnnotationPrintNumbers(l,a),f.printOptions.grayscale)&&(h=l.getImageData(0,0,t.width,t.height),f.convertToGrayscale(h),l.putImageData(h,0,0));f.createPrintedPage(t,i,0===e,function(t){f.preparingForPrint&&(o.append(t),f.getCommentsPrintPage(a,c,o),f.fireEvent("printProgressChanged",[e+1,n.length,c]),++e<n.length?s():(u(o,n.length),window.utils.unsetCanvasMultiplier(),f.preparingForPrint=!1))})})},function(){},1)}()},drawAnnotations:function(n,t,i){var u=this.docViewer.getAnnotationManager(),r;return 0===u.getAnnotationsList().filter(function(n){return n.PageNumber===t&&n instanceof Annotations.WidgetAnnotation}).length?u.drawAnnotations(t,n):(r=$('<div id="printWidgetContainer"><\/div>').css({width:i.width,height:i.height,position:"relative",top:"-10000px"}),u.drawAnnotations(t,n,!0,r).then(function(){return document.body.appendChild(r[0]),window.html2canvas(r[0],{canvas:n,backgroundColor:null,scale:1,logging:!1})}).then(function(){document.body.removeChild(r[0])}))},drawAnnotationPrintNumbers:function(n,t){n.textBaseline="top";t.forEach(function(t,i){var r=n.measureText(i+1).width;n.beginPath();n.rect(t.X-1,t.Y-1,r+2,12);n.fillStyle="#FFF";n.fill();n.stroke();n.closePath();n.fillStyle="#000";n.fillText(i+1,t.X,t.Y)})},getCommentsPrintPage:function(n,t,i){var u=this,r;0<n.length&&(r=$('<div class="comment-print-container">').appendTo(i),r.append('<div class="comment-print-header">'+i18n.t("print.commentsFor",{pageNumber:t})+"<\/div>"),r.append('<div class="comment-print-line-thick"><\/div>'),r.append("<br/>"),n.forEach(function(n,t){r.append('<div class="comment-content-header">Comment '+(t+1)+u.getAnnotationPrintContent(n)+"<\/div>");r.append('<div class="comment-print-line-thin"><\/div>');r.append('<div class="comment-contents">'+(n.getContents()||"")+"<\/div>");n.getReplies().sort(function(n,t){return n.DateCreated-t.DateCreated}).forEach(function(n){var t=$('<div style="margin-left: 40px"><\/div>');r.append(t);t.append('<div class="comment-content-header">'+u.getAnnotationPrintContent(n)+"<\/div>");t.append('<div class="comment-print-line-thin"><\/div>');t.append('<div class="comment-contents">'+(n.getContents()||"")+"<\/div>")});r.append("<br/>")}))},getPrintableAnnotations:function(n,t){return n?this.docViewer.getAnnotationManager().getAnnotationsList().filter(function(n){return n.Listable&&n.PageNumber===t&&!n.isReply()&&n.Printable}):[]},getAnnotationPrintContent:function(n){var t="";return n.isReply()||(t+=" ("+(n.elementName.charAt(0).toUpperCase()+n.elementName.slice(1))+") - "),t+=" Author: "+(n.Author||"")+"&nbsp;&nbsp;",n.Subject&&(t+=" Subject: "+n.Subject+"&nbsp;&nbsp;"),n.DateCreated&&(t+=" Date: "+moment(n.DateCreated).format("D/MM/YYYY h:mm:ss A")),t},getPrintPageData:function(n,t,i){var u=n.getPageInfo(t-1).width,f=n.getPageInfo(t-1).height,e=(this.docViewer.getCompleteRotation(t)-this.docViewer.getRotation(t)+4)%4,r=(4-e)%4;return r%2==0&&f<u?r++:r%2==1&&u<f&&r--,i===this.pageOrientations.Portrait?r=0:i===this.pageOrientations.Landscape&&(r=1),{width:u,height:f,documentRotation:e,printRotation:r}},createPrintedPage:function(n,t,i,r){var f=n.toDataURL(),u=$("<img>").attr("src",f).css({"max-height":"100%","max-width":"100%"}).on("load",function(){r(u)});window.utils.ie||u.css({height:"100%",width:"100%","object-fit":"contain"});t&&(u.css("display","block"),i||u.css("page-break-after","always"))},startPrintJob:function(n,t,i,r,u){if(!this.preparingForPrint){var f=this.getPagesToPrint(n);if(0===f.length)return void alert(i18n.t("print.invalidPageSelectionMsg"));this.preparingForPrint=!0;this.prepareDocument(f,t,i,r,u)}},endPrintJob:function(){this.preparingForPrint=!1;$("#print-display").empty()},printHandler:function(){i()},getDocumentViewer:function(){return this.docViewer},getCurrentPageNumber:function(){return this.docViewer.getCurrentPage()},setCurrentPageNumber:function(n){this.docViewer.setCurrentPage(n)},getPageCount:function(){return this.docViewer.getPageCount()},goToFirstPage:function(){this.docViewer.displayFirstPage()},goToLastPage:function(){this.docViewer.displayLastPage()},goToNextPage:function(){var n=this.docViewer.getCurrentPage();n<=0||(n+=1,this.docViewer.setCurrentPage(n))},goToPrevPage:function(){var n=this.docViewer.getCurrentPage();n<=1||(n-=1,this.docViewer.setCurrentPage(n))},getZoomLevel:function(){return this.docViewer.getZoom()},setZoomLevel:function(n){this.docViewer.zoomTo(n)},getToolMode:function(){var t=this.docViewer.getToolMode();for(var n in this.toolModeMap)if(t===this.toolModeMap[n])return n;return null},setToolMode:function(n){var t=this.toolModeMap[n];t&&this.docViewer.setToolMode(t)},setAnnotationUser:function(n){var t=this.docViewer.getAnnotationManager();this.currUser=n;t.setCurrentUser(this.currUser)},getAnnotationUser:function(){return this.docViewer.getAnnotationManager().getCurrentUser()},setAdminUser:function(n){var t=this.docViewer.getAnnotationManager();this.isAdmin=n;t.setIsAdminUser(this.isAdmin)},isAdminUser:function(){return this.docViewer.getAnnotationManager().getIsAdminUser()},setReadOnly:function(n){var t=this.docViewer.getAnnotationManager();this.readOnly=n;t.setReadOnly(this.readOnly)},isReadOnly:function(){return this.docViewer.getAnnotationManager().getReadOnly()},closeDocument:function(){this.loadedFromServer=!1;this.serverFailed=!1;this.hasBeenClosed=!0;this.docViewer.closeDocument()},PermissionTypes:{Download:1,DownloadAsPdf:2,Print:4,SelectText:8,NavigatePages:16,NavigateHistory:32,Zoom:64,Pan:128,ChangeFitMode:256,ChangeLayoutMode:512,Rotate:1024,Find:2048,GoFullScreen:4096,ViewThumbnails:8192,ViewBookmarks:16384,Search:32768,ViewAnnotations:65536,FillForms:131072},checkPermission:function(n){return(this.customConfig.permissions&n)==n},showLoading:function(){if(this.loadingDialog)this.loadingDialog.isClosed()?this.loadingDialog.open():this.loadingDialog.onClose=this.loadingDialog.open;else{var n=this.customConfig.loadingMessage||"Please wait a moment while the document is being prepared for the first-time viewing...";this.loadingDialog=$.confirm({title:!1,buttons:{},closeIcon:!1,backgroundDismiss:!1,escapeKey:!1,content:'<div class="center"><img src="data:image/gif;base64,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" style="width: 32px; height:32px; margin: 10px" /><br/>'+n+"<\/div>"})}},hideLoading:function(){this.loadingDialog&&(this.loadingDialog.isOpen()?this.loadingDialog.close():this.loadingDialog.onOpen=this.loadingDialog.close,this.loadingDialog=null)},MatchOptions:{MatchAnyWord:1,MatchCase:2,MatchWholeWord:4,UseWildcard:8},checkMatchOption:function(n,t){return(n&t)==t},getRGBString:function(n){return n.slice(0,3).join(", ")},searchHighlightColor:"yellow",getAnyWordPattern:function(n){var t=(n=n.replace(/-/g,"")).match(/\S+/g)||[],i;for(1<t.length&&t.unshift(n.replace(/^\s+|\s+$/g,"")),i=0;i<t.length;i++)t[i]=this.escapeRegExp(t[i]);return t.join("|")},escapeRegExp:function(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},convertToGrayscale:function(n,t){for(var f,r=n.data,u=t?t.data:n.data,e=r.length,i=0;i<e;i+=4)f=.2126*r[i]+.7152*r[i+1]+.0722*r[i+2],u[i]=u[i+1]=u[i+2]=f,u[i+3]=r[i+3]},internalEnableAnnotControls:function(){}})}(window),function(n){"use strict";n.ReaderControl=n.ReaderControl||{};var i=XPZText,t=n.PortableEngine.WebViewer.ToolMode;n.ReaderControl=function(i){function b(n){var r=n.pageX-u.offsetLeft,f=n.pageY-u.offsetTop,i=u.offsetHeight-u.clientHeight,t;return i&&(i+=16),t=u.offsetWidth-u.clientWidth,t&&(t+=16),r>u.offsetWidth-t||f>u.offsetHeight-i}var r,p,w,u,k,c,d,s,a,tt,v,h,y;n.BaseReaderControl.call(this,i);r=this;this.eventsBound=!1;this.thumbContainerWidth=170;this.thumbContainerHeight=200;this.requestedThumbs={};this.lastRequestedThumbs=[];this.lastVisibleThumbs=[];this.clickedThumb=-1;this.hasBeenClosed=!1;this.clickedSearchResult=-1;this.clickedBookMark=-1;this.searchInLeftPanel=null;this.docReadyForAnnots=!1;p=[187,61];w=[189,173];i.hideAnnotationPanel&&(ReaderControl.config.ui.hideAnnotationPanel=!0);i.pageHistory||($("#backPage").hide(),$("#forwardPage").hide());i.hideToolbar=!this.customConfig.showToolbar;ReaderControl.config.ui.hideSidePanel=!this.customConfig.showSidePane;this.singlePageRotation=this.customConfig.singlePageRotation;this.initUI();u=$("#DocumentViewer").get(0);k=Tools.PanTool.prototype.mouseLeftDown;Tools.PanTool.prototype.mouseLeftDown=function(n){b(n)||k.apply(this,arguments)};c=$("#viewer").get(0);d=Tools.PanTool.prototype.mouseMove;Tools.PanTool.prototype.mouseMove=function(n){d.apply(this,arguments);b(n)?"default"!==c.style.cursor&&(c.style.cursor="default"):c.style.cursor!==this.cursor&&(c.style.cursor=this.cursor)};i.hideToolbar||setTimeout(function(){r.setToolbarVisibility(!0)},0);this.toolModeMap[t.AnnotationCreateSticky].on("annotationAdded",function(){r.setToolMode(t.AnnotationEdit)});this.toolModeMap[t.AnnotationCreateStamp].on("annotationAdded",function(){r.setToolMode(t.AnnotationEdit)});$(n).keydown(function(i){var h=i.metaKey||i.ctrlKey,f=r.docViewer.getCurrentPage(),s=n.utils.isEditableElement($(document.activeElement)),u;if(s||(37===i.which?1<f&&(r.docViewer.setCurrentPage(f-1),r.trackPageHistory(f-1)):39===i.which?f<=r.docViewer.getPageCount()&&(r.docViewer.setCurrentPage(f+1),r.trackPageHistory(f+1)):38===i.which?(i.preventDefault(),e(-1,!1,!0)):40===i.which?(i.preventDefault(),e(1,!1,!0)):33===i.which?(i.preventDefault(),e(-1,!0,!0)):34===i.which&&(i.preventDefault(),e(1,!0,!0))),u=r.docViewer.getAnnotationManager(),h){if(70===i.which){if($("#control").is(":visible"))return document.getElementById("searchBox").focus(),!1}else _.contains(p,i.which)?(o(r.getZoomLevel()+.25),i.preventDefault()):_.contains(w,i.which)?(o(r.getZoomLevel()-.25),i.preventDefault()):s||(67===i.which&&r.enableAnnotations?u&&u.updateCopiedAnnotations():86===i.which&&r.enableAnnotations&&u&&u.pasteCopiedAnnotations());if(80===i.keyCode)return r.print(),!1}else i.altKey&&(83===i.which&&r.enableAnnotations?r.saveAnnotations():84===i.which&&r.enableAnnotations&&u&&(u.toggleAnnotations(),r.setToolMode(t.TextSelect)));return 27===i.keyCode?(r.setToolMode(t.AnnotationEdit),u.deselectAllAnnotations(),!1):32===i.keyCode&&i.target===document.body?(i.preventDefault(),r.getToolMode()!==t.Pan&&(r.previousTool=r.getToolMode(),r.setToolMode(t.Pan)),!1):void 0});$(n).keyup(function(n){if(32===n.keyCode&&n.target===document.body)return n.preventDefault(),r.getToolMode()===t.Pan&&r.setToolMode(r.previousTool),!1});var g=$("#control").outerHeight(),f=$("#DocumentViewer"),it=_.throttle(function(n,t){t<0?e(1):0<t&&e(-1);n.preventDefault()},300,{trailing:!1});f.bind("mousewheel",function(n,t){if(n.ctrlKey||n.altKey){var i=r.sidePanelVisible()?$("#sidePanel").width():0;return t<0?r.docViewer.zoomToMouse(l(.8*r.getZoomLevel()),i,g):r.docViewer.zoomToMouse(l(1.25*r.getZoomLevel()),i,g),void n.preventDefault()}r.docViewer.getDisplayModeManager().getDisplayMode().isContinuous()||it(n,t)});var e=function(n,t,i){var u,e=f.scrollTop(),o=t?window.innerHeight-$("#control").outerHeight():30;0<n?e+f.height()+1>=f[0].scrollHeight?0<=(u=nt(n))&&r.docViewer.setCurrentPage(u+1):i&&f.scrollTop(e+o):Math.abs(e)<=1?0<=(u=nt(n))&&(r.docViewer.setCurrentPage(u+1),f.scrollTop(f[0].scrollHeight)):i&&f.scrollTop(e-o)},nt=function(t){var e,u=r.docViewer.getDisplayModeManager().getDisplayMode(),f=u.mode===n.CoreControls.DisplayModes.Single?1:2,i;return e=u.mode===n.CoreControls.DisplayModes.CoverFacing?Math.floor(r.docViewer.getCurrentPage()/f):Math.floor((r.docViewer.getCurrentPage()-1)/f),i=(e+=t)*f,u.mode===n.CoreControls.DisplayModes.CoverFacing?0==i?0:i<r.docViewer.getPageCount()+1?i-1:-1:i<r.docViewer.getPageCount()?i:-1},l=function(n){return n<=r.MIN_ZOOM?n=r.MIN_ZOOM:n>r.MAX_ZOOM&&(n=r.MAX_ZOOM),n},o=function(n){r.setZoomLevel(l(n))};this.$thumbnailViewContainer=$("#thumbnailView");this.$thumbnailViewContainer.scroll(function(){clearTimeout(r.thumbnailRenderTimeout);r.thumbnailRenderTimeout=setTimeout(function(){r.docViewer.getRenderingPipeline().hasPipeline("ReaderControl.updateThumbnails")&&r.docViewer.getRenderingPipeline().pushChange("ReaderControl.updateThumbnails",{type:"updateThumbnails"})},80)});$("#lastPage").bind("click",function(){r.docViewer.displayLastPage()});$("#zoomBox").keyup(function(n){if(13===n.which){var t=this.value,i=parseInt(t,10);isNaN(i)?alert("'"+t+"' is not a valid zoom level."):o(i/100)}});$("#zoomOut").click(function(){var n=r.getZoomLevel();1<n&&n-.25<1?n=1:n-=.25;o(n)});$("#zoomIn").click(function(){var n=r.getZoomLevel();n<1&&1<n+.25?n=1:n+=.25;o(n)});r.docViewer.on("zoomUpdated",function(n,t){var i=Math.round(100*t);$("#zoomBox").val(i+"%");$("#slider").slider("value")!==i&&$("#slider").slider({value:i});r.fireEvent("zoomChanged",[t])});r.docViewer.on("searchInProgress",function(n,t,i){if(i){var r=$("#fullSearchView");t?(r.append("<div id='searchInProgress' data-i18n='sidepanel.searchTab.searching'><\/div>"),r.i18n()):$("#searchInProgress").remove()}});r.resize();$(window).resize(function(n){n&&n.target!==window||(r.resize(),(r.sidePanelVisible()||r.notesPanelVisible())&&r.shiftSidePanel(),$("#thumbnailView").trigger("scroll"))});$("#slider").slider({slide:function(n,t){var i=parseInt(t.value,10);isNaN(i)?alert("'"+i+"' is not a valid zoom level."):(clearTimeout(r.zoomSliderTimeout),r.zoomSliderTimeout=setTimeout(function(){o(i/100)},50))}});$("#pageNumberBox").keyup(function(n){if(13===n.which){var i=this.value,t=parseInt(i,10);isNaN(t)||t>r.docViewer.getPageCount()||t<=0?$("#pageNumberBox").val(r.docViewer.getCurrentPage()):(r.docViewer.setCurrentPage(t),r.trackPageHistory(t))}});r.docViewer.on("beforeDocumentLoaded",function(){1e3<=r.docViewer.getPageCount()&&r.setLayoutMode(n.CoreControls.DisplayModes.Single)});r.docViewer.on("documentReady",function(){r.internalEnableAnnotControls()});r.docViewer.on("layoutChanged",function(n,t){$("#totalPages").text("/"+r.docViewer.getPageCount());r.docViewer.getRenderingPipeline().pushChange("ReaderControl.updateThumbnails",{type:"applyPageChangesToThumbnails",changes:t});r.docViewer.getRenderingPipeline().pushChange("ReaderControl.updateThumbnails",{type:"updateThumbnails"})});r.docViewer.on("bookmarksUpdated",function(){r.updateBookmarkView()});r.docViewer.on("toolModeUpdated",function(n,t,i){r.fireEvent("toolModeChanged",[t,i])});r.docViewer.on("rotationUpdated",function(n,t,i){r.fireEvent("rotationChanged",[t,i])});r.docViewer.on("pageNumberUpdated",function(n,t){var i,u;if($("#pageNumberBox").val(t),i=t-1,-1!==r.clickedThumb&&$("#thumbContainer"+r.clickedThumb).removeClass("ui-state-active"),u=$("#thumbContainer"+i),void 0!==r.thumbnailsElement){var o=r.thumbnailsElement.scrollTop,s=r.thumbnailsElement.offsetHeight,h=r.thumbnailsElement.offsetWidth-$.position.scrollbarWidth(),c=o+s,e=u.outerHeight(!0),l=u.outerWidth(!0),a=Math.floor(h/l),f=Math.floor(i/a)*e,v=f+e;f<o?r.thumbnailsElement.scrollTop=f:c<v&&(r.thumbnailsElement.scrollTop=f+e-s)}r.clickedThumb=i;u.addClass("ui-state-active");r.fireEvent("pageChanged",[t])});$("#layoutModeDropDown .content").on("click","li",function(){var n=$(this).data("layout-mode");n&&r.setLayoutMode(n)});$("#rotateGroup").on("click","[data-rotate]",function(){var n=$(this).data("rotate"),t=r.singlePageRotation?r.docViewer.getCurrentPage():void 0;"cc"===n?r.rotateClockwise(t):"ccw"===n&&r.rotateCounterClockwise(t)});v=new Drop({target:document.querySelector("#layoutModeDropDown .drop-target"),content:document.querySelector("#layoutModeDropDown .content"),position:"bottom center",openOn:"hover",classes:"drop-theme-arrows layout-mode-dropdown-content",tetherOptions:{targetOffset:"10px 0"}});v.once("open",function(){r.docViewer.trigger("displayModeUpdated");var n=$(this.drop);n.i18n();n.css("z-index",50)});v.on("close",function(){$(this.drop).css({left:-1e3,top:-1e3,transform:""})});$("#fitWidth").on("click",function(){r.docViewer.setFitMode(r.docViewer.FitMode.FitWidth)});$("#fitPage").on("click",function(){r.docViewer.setFitMode(r.docViewer.FitMode.FitPage)});$("#fullScreenButton").on("click",function(){r.toggleFullScreen()});r.getPassword=function(n){r.handlePassword({initialize:function(t,i){s=$("<div>").attr({id:"passwordDialog"});tt=$('<div style="color:red"><\/div>').appendTo(s);$("<label>").attr({"for":"passwordInput"}).text(i18n.t("password.enter")).appendTo(s);a=$("<input>").attr({type:"password",id:"passwordInput"}).keypress(function(n){13===n.which&&$(this).parent().next().find("#pass_ok_button").click()}).appendTo(s);s.dialog({modal:!0,resizable:!1,closeOnEscape:!1,position:{within:document.body},close:i,buttons:{OK:{click:function(){t(n,a.val());$(this).dialog("close")},id:"pass_ok_button",text:i18n.t("password.ok")},Cancel:{click:function(){$(this).dialog("close")},text:i18n.t("password.cancel")}}})},resetAttempt:function(){a.val("");tt.text(i18n.t("password.incorrect"));s.dialog("open")}})};h=$("#clipboard");h.on("copy",function(){r.fireEvent("textCopied",[h[0].value])});r.docViewer.on("textSelected",_.debounce(function(){var t=r.docViewer.getSelectedText(),n=h[0];n.value=t;r.fireEvent("textSelected",[t]);0<t.length?(h.show(),n.focus(),n.selectionStart=0,n.setSelectionRange(0,n.value.length)):h.hide()},100));r.docViewer.on("displayModeUpdated",function(){var n=r.docViewer.getDisplayModeManager().getDisplayMode();$(".layout-mode-dropdown-content #layoutModes [data-layout-mode]").removeClass("active");$(".layout-mode-dropdown-content #layoutModes [data-layout-mode="+n.mode+"]").addClass("active");r.fireEvent("layoutModeChanged",[n])});r.docViewer.on("fitModeUpdated",function(n,t){var i=$("#fitWidth"),u=$("#fitPage");t===r.docViewer.FitMode.FitWidth?(i.addClass("active"),u.removeClass("active")):t===r.docViewer.FitMode.FitPage?(i.removeClass("active"),u.addClass("active")):(i.removeClass("active"),u.removeClass("active"));r.fireEvent("fitModeChanged",[t])});r.docViewer.on("pageComplete",function(n,t){r.fireEvent("pageCompleted",[t+1])});r.docViewer.on("beginRendering",function(){r.beginRendering()});r.docViewer.on("finishedRendering",function(n,t){t||r.finishedRendering()});$(document).on("error",function(n,t,i){r.onError(n,t,i)});y=r.docViewer.getAnnotationManager();y.on("annotationChanged annotationHidden",function(n,t){var i=-1;t.forEach(function(n){if(i!==n.PageNumber){i=n.PageNumber;var u=document.getElementById("thumbContainer"+(i-1)),t=$(u).find(".annotCanvas");0<t.length&&r.updateThumbnailAnnotations(t[0],i)}})});y.on("updateAnnotationPermission",function(){readerControl.fireEvent("updateAnnotationPermission")});Annotations.ControlHandle.selectionAccuracyPadding=3;Annotations.SelectionAlgorithm.canvasVisibilityPadding=10};n.ReaderControl.prototype={MAX_ZOOM:5,MIN_ZOOM:.05,printFactor:1,MIN_SIDE_PANEL_WIDTH:195,DEFAULT_SIDE_PANEL_WIDTH:200,initUI:function(){var n=this,f,t,i,u,r;$("#toggleSidePanel").on("click",function(){n.setShowSideWindow(!n.sidePanelVisible())});$("#toggleNotesPanel").on("click",function(){n.showNotesPanel(!n.notesPanelVisible())});$("#slider").slider({min:100*n.MIN_ZOOM,max:100*n.MAX_ZOOM,value:100,animate:!0});$("#optionsMenuList").hide().menu();$.widget("ui.tabs",$.ui.tabs,{updateHeight:function(n){var i,t,r;void 0===n&&(n=$("#tabs .ui-tabs-panel"));i=$("#ui-display").height();t=0;$("#tabs").children(":visible:not(.ui-tabs-panel)").each(function(){t+=$(this).outerHeight(!0)});r=i-t-4;n.each(function(){var n=$(this),i=n.find(".tab-panel-stretch").css("height","100%"),t;n.is(":visible")?(t=n.innerHeight()-n.height(),n.css("height",r-t),i.each(function(){var n=$(this),t=0,i;n.is(":visible")&&(n.css("visibility","visible"),n.children(".tab-panel-item-fixed").each(function(){t+=$(this).outerHeight(!0)}),i=n.innerHeight(),n.children(".tab-panel-item-stretch").height(i-t))})):n.css("height",window.innerHeight)});this._trigger("afterUpdateHeight")}});f=$("#tabs");(f.tabs({cache:!0,show:{effect:"fade",duration:250},beforeActivate:function(n,t){t.oldTab.find("span").removeClass("active");t.newTab.find("span").addClass("active")},activate:function(n,t){var i=$(t.newPanel);f.tabs("updateHeight",i);0<i.find("#searchView").length&&i.find("#fullSearchBox").focus()},afterUpdateHeight:function(){$("#thumbnailView").is(":visible")&&$("#thumbnailView").trigger("scroll")},create:function(n,t){var i=setInterval(function(){$("#tabs").is(":visible")&&($("#tabs").tabs("updateHeight",t.panel),clearInterval(i))},500)}}),this.enableAnnotations&&!ReaderControl.config.ui.hideAnnotationPanel&&!ReaderControl.config.ui.hideSidePanel||($("#toggleNotesPanel").parent().hide(),$("#notesPanelWrapper").hide()),Modernizr.fullscreen||$("#fullScreenButton").hide(),this.checkPermission(this.PermissionTypes.Download)||$("#downloadButton").hide(),this.checkPermission(this.PermissionTypes.DownloadAsPdf)||$("#downloadAsPdfButton").hide(),ReaderControl.config.ui.hidePrint=!this.checkPermission(this.PermissionTypes.Print),this.checkPermission(this.PermissionTypes.SelectText)||this.enableCopyAndTextSelection(!1),this.checkPermission(this.PermissionTypes.NavigatePages)||$("#nextPage").parent().hide(),this.checkPermission(this.PermissionTypes.NavigateHistory)||($("#backPage").hide(),$("#forwardPage").hide()),ReaderControl.config.ui.hideZoom=!this.checkPermission(this.PermissionTypes.Zoom),this.checkPermission(this.PermissionTypes.Pan)||$('#primaryToolList > span[data-toolmode="Pan"]').hide(),this.checkPermission(this.PermissionTypes.ChangeFitMode)||$("#fitModes").hide(),ReaderControl.config.ui.hideDisplayModes=!this.checkPermission(this.PermissionTypes.ChangeLayoutMode),this.checkPermission(this.PermissionTypes.Rotate)||$("#rotateGroup").hide(),ReaderControl.config.ui.hideTextSearch=!this.checkPermission(this.PermissionTypes.Find),this.checkPermission(this.PermissionTypes.GoFullScreen)||$("#fullScreenButton").hide(),this.checkPermission(this.PermissionTypes.ViewThumbnails))||((i=$("#thumbnailView").parent()).hide(),t=i.attr("aria-labelledby"),$("#tabMenu li[aria-labelledby="+t+"]").hide());this.checkPermission(this.PermissionTypes.ViewBookmarks)||((i=$("#bookmarkView").parent()).hide(),t=i.attr("aria-labelledby"),$("#tabMenu li[aria-labelledby="+t+"]").hide());this.checkPermission(this.PermissionTypes.Search)||((i=$("#searchView").parent()).hide(),t=i.attr("aria-labelledby"),$("#tabMenu li[aria-labelledby="+t+"]").hide());this.checkPermission(this.PermissionTypes.ViewThumbnails)||this.checkPermission(this.PermissionTypes.ViewBookmarks)||this.checkPermission(this.PermissionTypes.Search)||(ReaderControl.config.ui.hideSidePanel=!0);ReaderControl.config.ui.hidePrint&&$("#printButton").hide();ReaderControl.config.ui.hideControlBar||(ReaderControl.config.ui.hideDisplayModes&&$("#layoutModeDropDown").parent().hide(),ReaderControl.config.ui.hideTextSearch&&$("#searchControl").parent().hide(),ReaderControl.config.ui.hideZoom&&$("#zoomBox").parent().hide());u=!1;r=$("#sidePanel");r.hide();r.resizable({handles:"e",resize:function(){u?r.width(n.DEFAULT_SIDE_PANEL_WIDTH):(n.shiftSidePanel(!1),r.width()<n.MIN_SIDE_PANEL_WIDTH&&(n.setShowSideWindow(!1,!1),r.width(n.DEFAULT_SIDE_PANEL_WIDTH),u=!0))},stop:function(){n.docViewer.scrollViewUpdated();u=!1}});ReaderControl.config.ui.hideSidePanel&&$("#toggleSidePanel").hide();$.extend({alert:function(n,t){$(document.createElement("div")).html(n).dialog({close:function(){$(this).remove()},dialogClass:"alert",position:{within:document.body},title:t,modal:!0,resizable:!1})}});n.internalDisableAnnotControls()},internalEnableAnnotControls:function(){this.docReadyForAnnots=!0;this.refreshAnnotControls()},internalDisableAnnotControls:function(){this.docReadyForAnnots=!1;this.refreshAnnotControls()},refreshAnnotControls:function(){this.docReadyForAnnots?$("#searchControlGroup, #toolList").removeClass("annots-not-ready"):$("#searchControlGroup, #toolList").addClass("annots-not-ready");this.updateToolbarGroups()},onError:function(n,t,i){var r='<div class="multiline selectable">',u,f;(r+=i,t&&(t.type||t.Type))&&(u=t,f=JSON.stringify(u,null,2),r+="<br><br><b>Details:<\/b><br>",r+=$('<textarea rows="5" style="width:100%" readonly>').text(f)[0].outerHTML);r+="<\/div>";$.confirm({title:"Error",content:r,escapeKey:"confirm",buttons:{confirm:{text:"OK",action:function(){}}}})},setContextMenu:function(n,i){function r(n){var i,t,r;for(i in n)r=n[t=i],u.contextArray.push({title:i18n.t(t),cmd:t}),u.contextCommands[t]=r}var u=this;this.contextArray=[];this.contextCommands={};i?r(i):(this.checkPermission(this.PermissionTypes.Pan)?r({"contextMenu.edit":this.toolModeMap[t.AnnotationEdit],"contextMenu.pan":this.toolModeMap[t.Pan]}):r({"contextMenu.edit":this.toolModeMap[t.AnnotationEdit]}),this.enableAnnotations&&!n&&r({"contextMenu.highlight":this.toolModeMap[t.AnnotationCreateTextHighlight],"contextMenu.note":this.toolModeMap[t.AnnotationCreateSticky],"contextMenu.freeHand":this.toolModeMap[t.AnnotationCreateFreeHand],"contextMenu.freeText":this.toolModeMap[t.AnnotationCreateFreeText],"contextMenu.line":this.toolModeMap[t.AnnotationCreateLine],"contextMenu.underline":this.toolModeMap[t.AnnotationCreateTextUnderline],"contextMenu.strikeout":this.toolModeMap[t.AnnotationCreateTextStrikeout],"contextMenu.squiggly":this.toolModeMap[t.AnnotationCreateTextSquiggly],"contextMenu.signature":this.toolModeMap[t.AnnotationCreateSignature]}));this.refreshContextMenu()},refreshContextMenu:function(){var n=this;$(document).contextmenu({delegate:"#DocumentViewer",preventContextMenuForPopup:!0,preventSelect:!0,menu:this.contextArray,select:function(t,i){var r=i.cmd,u=n.contextCommands[r];n.docViewer.setToolMode(u)}});$(document).contextmenu("getMenu").i18n()},getViewerHeight:function(){var n=window.innerHeight,t=$("#control");return t.is(":visible")&&(n-=t.outerHeight()),n},resize:function(){var i=$(document.getElementById("DocumentViewer")),r=this.getViewerHeight();i.height(r);$("#tabs").tabs("updateHeight");var n=$("#sidePanel"),u=window.innerWidth-$("#control .right-aligned").width()-45,t=Math.max(Math.min(u,.45*window.innerWidth),this.MIN_SIDE_PANEL_WIDTH);n.resizable("option","maxWidth",t);n.width()>t&&n.width(t)},onDocumentLoaded:function(){var t,i,r,u;this.hasBeenClosed?this.closeDocument():(n.BaseReaderControl.prototype.onDocumentLoaded.call(this),t=this,i=t.eventsBound,t.clearSidePanelData(),i||ReaderControl.config.ui.hideSidePanel||t.setShowSideWindow(this.userPreferences.showSideWindow,!1),t.resize(),t.initBookmarkView(),t.initThumbnailView(),t.initSearchView(),t.setInterfaceDefaults(),this.searchInLeftPanel&&(this.setVisibleTab(2),$("#fullSearchBox").val(this.searchInLeftPanel),this.fullTextSearch(this.searchInLeftPanel)),i||(t.eventsBound=!0,t.bindEvents(),this.setContextMenu(this.readOnly)),this.pageHistory=[this.docViewer.getCurrentPage()],this.pageHistoryTracker=0,$("#forwardPage").removeClass("back-forward-enabled").addClass("back-forward-disabled"),$("#backPage").removeClass("back-forward-enabled").addClass("back-forward-disabled"),r=n.Actions.GoTo.prototype.onTriggered,n.Actions.GoTo.prototype.onTriggered=function(){r.apply(this,arguments);t.trackPageHistory(this.dest.page)},u=n.Actions.Named.prototype.onTriggered,n.Actions.Named.prototype.onTriggered=function(){switch(u.apply(this,arguments),this.action){case"NextPage":t.trackPageHistory(t.docViewer.getCurrentPage()+1);break;case"PrevPage":t.trackPageHistory(t.docViewer.getCurrentPage()-1);break;case"FirstPage":t.trackPageHistory(1);break;case"LastPage":t.trackPageHistory(t.docViewer.getPageCount())}},t.fireEvent("documentLoaded"))},offlineReady:function(){function i(n){var t=$("#toggleOfflineButton");n?(t.attr("data-i18n","[title]offline.disableOffline").i18n(),t.addClass("active")):(t.attr("data-i18n","[title]offline.enableOffline").i18n(),t.removeClass("active"))}var t=$("<div>").addClass("group"),n;$("#control .right-aligned").prepend(t);$("<span>").attr({id:"offlineDownloadButton","class":"glyphicons download","data-i18n":"[title]offline.downloadOfflineViewing"}).data("downloading",!1).appendTo(t).i18n();$("<span>").attr({id:"toggleOfflineButton","class":"glyphicons cloud_minus","data-i18n":"[title]offline.enableOffline"}).appendTo(t).i18n();n=this.docViewer.getDocument();$("#offlineDownloadButton").click(function(){var t=$(this);t.data("downloading")?(t.data("downloading",!1),n.cancelOfflineModeDownload()):(t.data("downloading",!0),n.storeOffline(function(){t.data("downloading",!1);t.removeClass("circle_remove").addClass("download");n.isDownloaded()&&$("#toggleOfflineButton").removeClass("disabled");t.attr("data-i18n","[title]offline.downloadOfflineViewing").i18n()}),t.removeClass("download").addClass("circle_remove"),t.attr("data-i18n","[title]offline.cancelDownload").i18n())});$("#toggleOfflineButton").click(function(){if($(this).hasClass("disabled"))return!1;var t=!n.getOfflineModeEnabled();n.setOfflineModeEnabled(t);i(t)});n.getOfflineModeEnabled()&&i(!0);n.isDownloaded()||$("#toggleOfflineButton").addClass("disabled")},updateAnnotations:function(){var i,n,t,r;null!==this.serverUrl?(i=this.docViewer.getAnnotationManager(),n=this.serverUrl,null!==this.docId&&(t="?",-1<this.serverUrl.indexOf("?")&&(t="&"),n+=t+"did="+this.docId),r=i.getAnnotCommand(),$.ajax({type:"POST",url:n,data:{data:r},contentType:"xml",success:function(){},error:function(){},dataType:"xml"})):console.warn("Server URL was not specified.")},saveAnnotations:function(){var n=this;return new Promise(function(t,i){var r;n.exportAnnotations({start:function(){(r=$("#overlayMessage")).attr("data-i18n","annotations.savingAnnotations");r.i18n();r.dialog({dialogClass:"no-title",draggable:!1,resizable:!1,minHeight:50,minWidth:window.innerWidth/3,position:{within:document.body},show:{effect:"fade",duration:400},hide:{effect:"fade",duration:1e3}})},success:function(){r.attr("data-i18n","annotations.saveSuccess");r.i18n();t()},error:function(){r.attr("data-i18n","annotations.saveError");r.i18n();i()},complete:function(){setTimeout(function(){r.dialog("close")},1e3)}})})},initBookmarkView:function(){this.updateBookmarkView()},updateBookmarkView:function(){var n=this;this.docViewer.getDocument().getBookmarks().then(function(t){$("#bookmarkView").empty();0===t.length?($("#bookmarkView").append('<div style="padding:5px 3px;" data-i18n="mobile.bookmarks.noBookmarks"><\/div>'),$("#bookmarkView").i18n()):$("#bookmarkView").fancytree({source:function t(n){for(var i,u,f=[],r=0;r<n.length;r++)i=n[r],u={title:i.name,bookmark:i},i.children&&(u.children=t(i.children)),f.push(u);return f}(t),extensions:["themeroller","glyph"],glyph:{preset:"",map:{expanderClosed:"glyphicons2 glyphicon-arrow-right",expanderOpen:"glyphicons2 glyphicon-arrow-down",doc:"glyphicons2 glyphicon-bookmark1",docOpen:"glyphicons2 glyphicon-bookmark1"}},tooltip:!0,debugLevel:1,toggleEffect:null,activate:function(t,i){var r=i.node.data.bookmark;r.isValid()&&(n.docViewer.displayBookmark(r),n.trackPageHistory(r.pageNumber))}})},function(n){console.warn("Error retrieving bookmarks",n)})},initThumbnailView:function(){var n=this;n.requestedThumbs={};n.lastRequestedThumbs=[];n.thumbnailPages=0;n.haveThumbs={};$("#thumbnailView").off("mouseenter").on("mouseenter","div.ui-widget-content",function(){$(this).addClass("ui-state-hover")}).off("mouseleave").on("mouseleave","div.ui-widget-content",function(){$(this).removeClass("ui-state-hover")}).on("contextmenu",function(){return!1});n.docViewer.getRenderingPipeline().registerHandlers("ReaderControl.updateThumbnails",{read:function(){return{visibleThumbs:n.getVisibleThumbs()}},write:function(t,i){i.forEach(function(i){"appendThumb"===i.type?n.haveThumbs[i.pageIndex]&&n.receivedThumb(i.thumb,i.pageIndex):"updateThumbnails"===i.type?(n.updateThumbnailPages(),n.updateThumbnailView(t.visibleThumbs)):"applyPageChangesToThumbnails"===i.type&&n.applyPageChangesToThumbnails(i.changes)})}});this.thumbnailsElement=this.$thumbnailViewContainer.get(0);this.docViewer.getRenderingPipeline().pushChange("ReaderControl.updateThumbnails",{type:"updateThumbnails"})},createThumbnailContainer:function(n){var i=this,t=document.createElement("div"),r,u,f;return t.id="thumbContainer"+n,t.style.height=i.thumbContainerHeight+"px",t.style.width=i.thumbContainerWidth+"px",t.className="thumbContainer ui-widget-content",r=document.createElement("div"),r.className="thumbdiv",r.style.position="relative",u=document.createElement("span"),u.style.height="150px",u.style.display="block",r.appendChild(u),t.appendChild(r),f=document.createElement("div"),f.style.textAlign="center",f.innerHTML=n+1,t.appendChild(f),t.addEventListener("click",function(){var t=$(this);-1!==i.clickedThumb&&$("#thumbContainer"+i.clickedThumb).removeClass("ui-state-active");i.clickedThumb=n;t.addClass("ui-state-active");setTimeout(function(){i.docViewer.setCurrentPage(n+1);i.trackPageHistory(n+1)},0)}),t},invalidateThumbnail:function(n){n in this.requestedThumbs&&(this.cancelThumbnail(this.requestedThumbs[n]),delete this.requestedThumbs[n]);delete this.haveThumbs[n];var t=$("#thumbContainer"+n);t.find(".thumb").remove();t.find(".annotCanvas").remove()},applyPageChangesToThumbnails:function(n){var t=this;n.removed.forEach(function(n){t.invalidateThumbnail(n-1)});n.contentChanged.forEach(function(n){t.invalidateThumbnail(n-1)});Object.keys(n.moved).forEach(function(n){t.invalidateThumbnail(n-1)})},updateThumbnailPages:function(){var n=this.docViewer.getPageCount(),r,t,i;if(this.thumbnailPages<n){for(r=document.createDocumentFragment(),t=this.thumbnailPages;t<n;++t)r.appendChild(this.createThumbnailContainer(t));this.thumbnailsElement.appendChild(r)}else this.thumbnailPages>n&&(i=document.createRange(),i.setStartBefore(this.thumbnailsElement.children[n]),i.setEndAfter(this.thumbnailsElement.children[this.thumbnailPages-1]),i.deleteContents());this.thumbnailPages=n},updateThumbnailAnnotations:function(t,i){var e=t.getContext("2d"),f=1,r=null,u=this.docViewer.getCompleteRotation(i)-this.docViewer.getRotation(i),o,s;u<0&&(u+=4);o=this.docViewer.getPageWidth(i-1);s=n.utils.getCanvasMultiplier();t.width=t.width;u%2==0?(f=t.width/o,f/=s,r=window.GetPageMatrix(f,u,{width:t.width,height:t.height}),0===u?e.setTransform(r.m_a,r.m_b,r.m_c,r.m_d,0,0):e.setTransform(r.m_a,r.m_b,r.m_c,r.m_d,t.width,t.height)):(f=t.height/o,f/=s,r=window.GetPageMatrix(f,u,{width:t.width,height:t.height}),1===u?e.setTransform(r.m_a,r.m_b,r.m_c,r.m_d,t.width,0):e.setTransform(r.m_a,r.m_b,r.m_c,r.m_d,0,t.height));this.docViewer.getAnnotationManager().drawAnnotations({pageNumber:i,overrideCanvas:t,namespace:"thumbnails"})},initSearchView:function(){$("#fullSearchView").off("mouseenter").on("mouseenter","div.searchResultLine",function(){$(this).addClass("ui-state-hover")}).off("mouseleave").on("mouseleave","div.searchResultLine",function(){$(this).removeClass("ui-state-hover")})},beginRendering:function(){var t,i,n;for(t in this.requestedThumbs)this.cancelThumbnail(this.requestedThumbs[t]);for(i=this.lastRequestedThumbs.length,n=0;n<i;++n)delete this.requestedThumbs[this.lastRequestedThumbs[n]];this.requestedThumbs={};this.lastRequestedThumbs=[];this.viewerRendering=!0},finishedRendering:function(){this.viewerRendering=!1;this.docViewer.getRenderingPipeline().hasPipeline("ReaderControl.updateThumbnails")&&this.docViewer.getRenderingPipeline().pushChange("ReaderControl.updateThumbnails",{type:"updateThumbnails"})},cancelThumbnail:function(n){this.docViewer.getDocument().cancelLoadThumbnail(n)},updateThumbnailView:function(n){var t=this,i,r,u;for(n=n||t.getVisibleThumbs(),u=_.difference(t.lastVisibleThumbs,n),i=0;i<u.length;++i)r=u[i],t.invalidateThumbnail(r);for(i=0;i<t.lastRequestedThumbs.length;++i)r=t.lastRequestedThumbs[i],t.requestedThumbs[r]&&!_.contains(n,r)&&(t.cancelThumbnail(t.requestedThumbs[r]),delete t.requestedThumbs[r]);t.lastRequestedThumbs=n;t.lastVisibleThumbs=n;t.appendThumbs(n)},receivedThumb:function(n,t){var f,r,e,u,i,o,s,h;delete this.requestedThumbs[t];n.width>n.height?(e=n.width/150,r=Math.round(n.height/e),f=150):(e=n.height/150,f=Math.round(n.width/e),r=150);n.style.width=f+"px";n.style.height=r+"px";n.className="thumb";u=$("#thumbContainer"+t);u.find(".thumbdiv").empty().append(n);i=document.createElement("canvas");i.width=f;i.height=r;i.style.position="absolute";i.style.left="50%";i.style.top="50%";i.style.transform="translate(-50%, -50%)";i.style.msTransform="translate(-50%, -50%)";i.className="annotCanvas";u.find(".thumbdiv").append(i);this.updateThumbnailAnnotations(i,t+1);o=document.createElement("div");o.className="thumbPad";s=this.thumbContainerHeight-r;h=parseInt(s/2,10);o.style.marginBottom=h+"px";u.find(".thumbPad").remove();u.prepend(o)},appendThumbs:function(n){var t=this,r,i;if(!t.viewerRendering)for(r=this.docViewer.getDocument(),i=0;i<n.length;i++)!function(){var u=n[i],f;t.requestedThumbs[u]||0<$("#thumbContainer"+u).find(".thumb").length||(f=r.loadThumbnailAsync(u,function(n){t.haveThumbs[u]=!0;delete t.requestedThumbs[u];t.docViewer.getRenderingPipeline().pushChange("ReaderControl.updateThumbnails",{type:"appendThumb",thumb:n,pageIndex:u})}),t.requestedThumbs[u]=f)}()},getVisibleThumbs:function(){var f,t,i;if(null===this.docViewer.getDocument())return[];var r=[],a=this.thumbnailsElement.offsetHeight,e=this.thumbnailsElement.offsetWidth-$.position.scrollbarWidth(),o=this.$thumbnailViewContainer.find("#thumbContainer0").outerHeight(!0),v=this.$thumbnailViewContainer.find("#thumbContainer0").outerWidth(!0);if(void 0===this.thumbnailsElement)return r;var s=this.thumbnailsElement.scrollTop,y=s+a,n=Math.floor(e/v);0<e&&0===n&&(n=1);var h=Math.floor(s/o*n),c=Math.ceil(y/o*n)-1,l=c-h+1,u=h-l;for(u<0&&(u=0),f=this.docViewer.getPageCount(),t=c+l,f<=t&&(t=f-1),i=u;i<=t;i++)r.push(i);return r},sidePanelVisible:function(){return!!this._showSideWindow},shiftSidePanel:function(n){void 0===n&&(n=!0);var t=$("#DocumentViewer"),i=$("#notesPanelWrapper"),f="none"===i.css("display"),r=this.sidePanelVisible()?$("#sidePanel").width():0,u=f?0:i.width();n?($(".right-content").animate({"margin-left":r},150),t.animate({"margin-right":u},150)):($(".right-content").css({"margin-left":r}),t.css({"margin-right":u}))},clearSidePanelData:function(){$("#fullSearchView").empty();$("#bookmarkView").empty();$("#thumbnailView").empty()},searchText:function(n,t){""!==n&&(t=t|this.docViewer.SearchMode.e_page_stop|this.docViewer.SearchMode.e_highlight,this.docViewer.textSearchInit(n,t,!1))},updateSearchCount:function(n){var t=$("#searchResultCount"),i=this.clickedSearchResult+1;t.text(i+"/"+n)},fullTextSearch:function(n){var t,r;$("#searchInfo").show();$("#searchResultCount").text("");$("#fullSearchView").empty();this.docViewer.clearSearchResults();this.resize();this.totalSearchResults=0;t=this;""!==n&&(r=t.docViewer.SearchMode.e_page_stop|t.docViewer.SearchMode.e_ambient_string|t.docViewer.SearchMode.e_highlight,$("#anyWordSearch").prop("checked")&&(r|=t.docViewer.SearchMode.e_regex,n=this.getAnyWordPattern(n)),$("#wholeWordSearch").prop("checked")&&(r|=t.docViewer.SearchMode.e_whole_word),$("#caseSensitiveSearch").prop("checked")&&(r|=t.docViewer.SearchMode.e_case_sensitive),$("#wildCardSearch").prop("checked")&&(r|=t.docViewer.SearchMode.e_wild_card),t.docViewer.textSearchInit(n,r,!0,function(n){var r,u;n.resultCode===i.ResultCode.e_found?(r=$('<div id="searchResultLine'+t.totalSearchResults+'">').addClass("searchResultLine ui-widget-content"),$("<span>").text(n.ambient_str.slice(0,n.result_str_start)).appendTo(r),$("<b>").text(n.ambient_str.slice(n.result_str_start,n.result_str_end)).css("background",t.searchHighlightColor).appendTo(r),$("<span>").text(n.ambient_str.slice(n.result_str_end,n.ambient_str.length)).appendTo(r),r.data("data",{result:n,quads:n.quads,searchResultLineId:t.totalSearchResults++}).click(function(){-1!==t.clickedSearchResult&&($("#searchResultLine"+t.clickedSearchResult).removeClass("ui-state-active"),t.clickedSearchResult=-1);t.clickedSearchResult=$(this).data("data").searchResultLineId;$(this).addClass("ui-state-active");var n=$(this).data("data").result;t.docViewer.setActiveSearchResult(n);t.updateSearchCount(t.totalSearchResults)}).appendTo($("#fullSearchView")),1===t.totalSearchResults&&r.click(),t.docViewer.displayAdditionalSearchResult(n),t.updateSearchCount(t.totalSearchResults)):n.resultCode===i.ResultCode.e_done&&0===t.totalSearchResults&&(u=$("#fullSearchView"),u.append("<div data-i18n='sidepanel.searchTab.noResults'><\/div>"),u.i18n())}))},trackPageHistory:function(n){var t=this;t.pageHistoryTracker+1<t.pageHistory.length&&(t.pageHistory=t.pageHistory.slice(0,t.pageHistoryTracker+1));t.pageHistory[t.pageHistory.length-1]!==n&&(t.pageHistoryTracker+=1,t.pageHistory.push(n),$("#backPage").addClass("back-forward-enabled").removeClass("back-forward-disabled"),$("#forwardPage").addClass("back-forward-disabled").removeClass("back-forward-enabled"))},bindEvents:function(){var n=this;$("#backPage").on("click",function(){0<n.pageHistoryTracker&&(n.pageHistoryTracker-=1,n.docViewer.setCurrentPage(n.pageHistory[n.pageHistoryTracker]),0<n.pageHistoryTracker?$("#backPage").addClass("back-forward-enabled").removeClass("back-forward-disabled"):$("#backPage").addClass("back-forward-disabled").removeClass("back-forward-enabled"),$("#forwardPage").addClass("back-forward-enabled").removeClass("back-forward-disabled"))});$("#forwardPage").on("click",function(){n.pageHistoryTracker<n.pageHistory.length-1&&(n.pageHistoryTracker+=1,n.docViewer.setCurrentPage(n.pageHistory[n.pageHistoryTracker]),$("#backPage").addClass("back-forward-enabled").removeClass("back-forward-disabled"),n.pageHistoryTracker<n.pageHistory.length-1?$("#forwardPage").addClass("back-forward-enabled").removeClass("back-forward-disabled"):$("#forwardPage").addClass("back-forward-disabled").removeClass("back-forward-enabled"))});$("#prevPage").on("click",function(){var t=n.docViewer.getCurrentPage();1<t&&(n.docViewer.setCurrentPage(t-1),n.trackPageHistory(t-1))});$("#nextPage").on("click",function(){var t=n.docViewer.getCurrentPage();t<=n.docViewer.getPageCount()&&(n.docViewer.setCurrentPage(t+1),n.trackPageHistory(t+1))});$("#searchButton").on("click",function(){n.searchText($("#searchBox").val())});$("#searchBox").on("keypress",function(t){if(13===t.which){var i=$(this).val();t.shiftKey?n.searchText(i,n.docViewer.SearchMode.e_search_up):n.searchText(i)}});$("#fullSearchButton").on("click",function(){n.fullTextSearch($("#fullSearchBox").val())});$("#fullSearchBox").on("keypress",function(t){13===t.which&&n.fullTextSearch($(this).val())});$("#nextSearchResult").on("click",function(){var i=(n.clickedSearchResult+1)%n.totalSearchResults,t=$("#searchResultLine"+i);t.click();t[0].scrollIntoViewIfNeeded()});$("#prevSearchResult").on("click",function(){var t=n.clickedSearchResult-1,i;t<0&&(t=n.totalSearchResults-1);i=$("#searchResultLine"+t);i.click();i[0].scrollIntoViewIfNeeded()});$("#clearSearchResults").on("click",function(){$("#searchInfo").hide();$("#fullSearchBox").val("");$("#fullSearchView").empty();n.docViewer.clearSearchResults()});n.bindPrintEvents();$("#downloadButton").on("click",function(){n.download(n.customConfig.downloadUrl)});$("#downloadAsPdfButton").on("click",function(){n.download(n.customConfig.downloadAsPdfUrl)})},getAllPageNumbers:function(){for(var t=[],n=1;n<=this.getPageCount();n++)t.push(n);return t},endPrintJob:function(){BaseReaderControl.prototype.endPrintJob.apply(this,arguments);$("#invalidPageSelectionError").hide();$("#printProgress").hide();$(".progressLabel").hide()},print:function(){function t(){i=function(){if($("#allPages").prop("checked"))return n.getAllPageNumbers();if($("#currentPage").prop("checked"))return[n.docViewer.getCurrentPage()];var t=$("#selectedPagesInput").val();return n.getPagesToPrint(t)}();$(".numberPagesLabel").attr("data-i18n","print.totalPageCount").data("i18n-options",{count:i.length}).i18n(),function(n){var t=$("#printStartButton");0===n?($("#invalidPageSelectionError").show(),t.prop("disabled",!0)):($("#invalidPageSelectionError").hide(),t.prop("disabled",!1))}(i.length)}var i,n,u,r,f,e;if(this.checkPermission(this.PermissionTypes.Print))if(this.printOptions.skipDialog)this.doPrint(this.printOptions.pageRange,this.pageOrientations.Auto);else{for(n=this,$("#numberPagesToPrint").show(),$(".numberPagesLabel").show(),t(),u=[$("#allPages"),$("#selectedPages"),$("#currentPage")],r=0;r<u.length;r++)u[r].on("change",t);f=$("#selectedPagesInput");e=_.throttle(t,200,{leading:!1});f.on("keyup",e);f.on("click",function(){$("#selectedPages").prop("checked",!0);t()});$("#printDialog").attr("_initialized","1").dialog({modal:!0,resizable:!1,show:{effect:"scale",duration:100},hide:{effect:"scale",duration:100},position:{within:document.body},open:function(){$("#allPages").prop("checked",!0);$("#selectedPagesInput").val("");$("#printHighQuality").prop("checked",!0===n.printOptions.highQuality);$("#printGrayscale").prop("checked",!0===n.printOptions.grayscale);$("#includeComments").prop("checked",!0===n.printOptions.includeComments);n.printOptions.pageRange&&($("#selectedPages").prop("checked",!0),$("#selectedPagesInput").val(n.printOptions.pageRange));t()},close:function(){},buttons:[{id:"printStartButton",text:i18n.t("print.print"),click:function(){n.printOptions.highQuality=$("#printHighQuality").prop("checked");n.printOptions.grayscale=$("#printGrayscale").prop("checked");n.printOptions.includeComments=$("#includeComments").prop("checked");$(this).dialog("close");n.doPrint(i,n.pageOrientations.Auto)}},{text:i18n.t("print.done"),click:function(){$(this).dialog("close")}}]})}},doPrint:function(n,t){var i=this;$("#printProgressDialog").dialog({modal:!0,resizable:!1,show:{effect:"scale",duration:100},hide:{effect:"scale",duration:100},position:{within:document.body},open:function(){i.startPrintJob(n,t,!1,i.printOptions.includeComments,function(n,t){window.print();$("#printProgressDialog").dialog("close");i.fireEvent("printComplete",[t])})},close:function(){i.endPrintJob()},buttons:[{text:i18n.t("print.cancel"),click:function(){$(this).dialog("close")}}]})},printHandler:function(){this.print()},bindPrintEvents:function(){var n=this,t=$("#printProgress"),i=$(".progressLabel");$("#printButton").on("click",function(){n.printHandler()});$(document).on("printProgressChanged",function(n,r,u){t.show().progressbar({value:r/u*100});i.show().attr("data-i18n","print.preparingPages").data("i18n-options",{current:r,total:u}).i18n()})},getPageContainer:function(n){return $("#DocumentViewer").find("#pageContainer"+n)},setInterfaceDefaults:function(){var n=this.docViewer.getCurrentPage()-1,t;$("#totalPages").text("/"+this.docViewer.getPageCount());t=Math.round(100*this.docViewer.getZoom());$("#zoomBox").val(t+"%");$("#slider").slider({value:t});$("#pageNumberBox").val(1+n);this.docViewer.setToolMode(this.defaultToolMode);this.clickedThumb=n;$("#thumbContainer"+n).addClass("ui-state-active");Modernizr.filereader||$("[data-toolmode=AnnotationCreateStamp]").hide()},setVisibleTab:function(n){$("#tabs").tabs("option","active",n)},notesPanelVisible:function(){return!!this._showNotesPanel},showNotesPanel:function(n){var i=this;this._showNotesPanel=n;var t=$("#notesPanelWrapper"),r=t.find("#notesPanel"),u=$("#toggleNotesPanel");n?(t.removeClass("hidden"),r.removeClass("hidden"),u.addClass("active"),this.fireEvent("notesPanelBecomingVisible")):(t.addClass("hidden"),r.addClass("hidden"),u.removeClass("active"));this.shiftSidePanel();setTimeout(function(){i.docViewer.scrollViewUpdated();i.fireEvent("notesPanelVisibilityChanged",n)},250)},setToolbarVisibility:function(n){n?$("#control").show():$("#control").hide();this.updateToolbarGroups();this.resize()},getShowSideWindow:function(){return!!this._showSideWindow},setShowSideWindow:function(t,i){var r;_.isUndefined(i)&&(i=!0);n.ControlUtils.userPreferences.setViewerPreference("showSideWindow",t);var u=$("#sidePanel"),f=$("#toggleSidePanel"),e=i?{effect:"slide",duration:150}:void 0;t?(u.show(e),f.addClass("glyphicon-circle-left2").removeClass("collapse"),$("#ui-display").addClass("left-panel-visible")):(u.hide(e),f.addClass("collapse").removeClass("glyphicon-circle-left2"),$("#ui-display").removeClass("left-panel-visible"));this._showSideWindow=t;this.shiftSidePanel(i);r=this;setTimeout(function(){r.docViewer.scrollViewUpdated();r.resize();r.fireEvent("sidePanelVisibilityChanged",t)},i?250:0)},rotateClockwise:function(n){this.docViewer.rotateClockwise(n)},rotateCounterClockwise:function(n){this.docViewer.rotateCounterClockwise(n)},fitWidth:function(){this.docViewer.setFitMode(this.docViewer.FitMode.FitWidth)},fitPage:function(){this.docViewer.setFitMode(this.docViewer.FitMode.FitPage)},fitZoom:function(){this.docViewer.setFitMode(this.docViewer.FitMode.Zoom)},getFitMode:function(){return this.docViewer.getFitMode()},setFitMode:function(n){this.docViewer.setFitMode(n)},getLayoutMode:function(){return this.docViewer.getDisplayModeManager().getDisplayMode().mode},setLayoutMode:function(t){var i=new n.CoreControls.DisplayMode(this.docViewer,t);this.docViewer.getDisplayModeManager().setDisplayMode(i)},closeDocument:function(){if(1===$("#printDialog[_initialized]").length&&$("#printDialog").dialog("close"),n.BaseReaderControl.prototype.closeDocument.call(this),this.docViewer.getDocument())for(var t in this.internalDisableAnnotControls(),this.requestedThumbs)this.cancelThumbnail(this.requestedThumbs[t]);this.clearSidePanelData()},setSearchModes:function(n){n&&(n.CaseSensitive&&$("#caseSensitiveSearch").prop("checked",!0),n.WholeWord&&$("#wholeWordSearch").prop("checked",!0))},setSearchInLeftPanel:function(n){this.searchInLeftPanel=n;$("#searchControl").parent().hide()},download:function(n){var t=$("#downloadIframe");0==t.length&&(t=$('<iframe id="downloadIframe" src="javascript:&quot;&quot;" style="display:none"><\/iframe>'),$("body").append(t));t.attr("src",n)},initFullTextSearch:function(n){n&&(this.checkMatchOption(n.matchOptions,this.MatchOptions.MatchAnyWord)&&$("#anyWordSearch").prop("checked",!0),this.checkMatchOption(n.matchOptions,this.MatchOptions.MatchCase)&&$("#caseSensitiveSearch").prop("checked",!0),this.checkMatchOption(n.matchOptions,this.MatchOptions.MatchWholeWord)&&$("#wholeWordSearch").prop("checked",!0),this.checkMatchOption(n.matchOptions,this.MatchOptions.UseWildcard)&&$("#wildCardSearch").prop("checked",!0),n.highlightColor&&(this.searchHighlightColor="rgba("+this.getRGBString(n.highlightColor)+", 0.5)",this.docViewer.setSearchHighlightColors({searchResult:this.searchHighlightColor})),n.activeHighlightColor&&this.docViewer.setSearchHighlightColors({activeSearchResult:"rgba("+this.getRGBString(n.activeHighlightColor)+", 0.5)"}),n.term&&(this.setVisibleTab(2),$("#fullSearchBox").val(n.term),this.fullTextSearch(n.term)))},updateToolbarGroups:function(){$("#control .group").each(function(){var n=$(this);n.removeClass("display-none");n.find(":visible").length||n.addClass("display-none")})},enableCopyAndTextSelection:function(n){Tools.Tool.ENABLE_TEXT_SELECTION=n}};n.ReaderControl.prototype=$.extend({},n.BaseReaderControl.prototype,n.ReaderControl.prototype);ReaderControl.config||(ReaderControl.config={ui:{}})}(window);$(function(){window.ControlUtils.initialize(function(){$("#ui-display").children().hide();$("#unsupportedErrorMessage").show()})});ReaderControl.config={serverURL:null,defaultUser:"Guest"};ReaderControl.config.ui={hideAnnotationPanel:!1,hideControlBar:!1,hideSidePanel:!1,hideDisplayModes:!1,hideZoom:!1,hideTextSearch:!1,hidePrint:!1};jconfirm.pluginDefaults.defaultButtons={};jconfirm.pluginDefaults.container="#jconfirm-container";jconfirm.pluginDefaults.theme="material";jconfirm.pluginDefaults.bgOpacity=.2;$.fx.off=!0;var highlightDraw=Annotations.TextHighlightAnnotation.prototype.draw;Annotations.TextHighlightAnnotation.prototype.draw=function(n,t){var r=Annotations.TextHighlightAnnotation.opacityCap,i=this.StrokeColor;0==i.R&&0==i.G&&0==i.B&&(Annotations.TextHighlightAnnotation.opacityCap=1);highlightDraw.call(this,n,t);Annotations.TextHighlightAnnotation.opacityCap=r};